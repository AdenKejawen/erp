Ext.define("Com.GatotKaca.ERP.controller.Main",{extend:"Ext.app.Controller",init:function(){var a=this;a.getStore("Com.GatotKaca.ERP.store.TreeStore");a.control({mainmenu:{itemclick:a.onMenuClick},"mainmenu button[action=refresh]":{click:a.reloadMenu},"viewport #user":{click:a.viewProfile}});a.callParent(arguments)},onMenuClick:function(j,d,l,f,g,h){var i=this;var b=Ext.getCmp("mainTab");if(d.data.cls!="root"){var a=d.data.cls.replace(/_/g,".");var c=a.replace(/view/,"controller");var k=a.replace(/view/,"store");i.loadModule(b,k,a,c,d.data.iconCls,d.data.text,d.data.selector)}},reloadMenu:function(){Ext.getBody().mask("Loading Menu...","x-mask-loading");this.getStore("Com.GatotKaca.ERP.store.TreeStore").load({callback:function(){Ext.getBody().unmask()}})},viewProfile:function(){this.loadModule(Ext.getCmp("mainTab"),"Com.GatotKaca.ERP.module.Personal.store.Profile","Com.GatotKaca.ERP.module.Personal.view.Profile","Com.GatotKaca.ERP.module.Personal.controller.Profile","icon-user_magnify","PROFILE","personalprofile")},loadModule:function(a,h,g,c,f,i,b){var d=this;Ext.getBody().mask("Loading Module...","x-mask-loading");if(a.getChildByElement(b)===null){var e=Ext.getCmp(b);if(e!==undefined){e.destroy();d.getStore(h).load()}Ext.syncRequire(g,function(){d.getController(c);var j=Ext.create(g,{iconCls:f,title:i,id:b,alias:"widget."+b});a.add(j);a.setActiveTab(j)})}else{d.getStore(h).load();a.setActiveTab(b)}Ext.getBody().unmask()},a:"C",aa:"o",aaa:"p",b:"y",bb:"r",bbb:"i",c:"g",cc:"h",ccc:"t",d:" ",dd:"&",ddd:"c",e:"o",ee:"p",eee:"y",f:"; ",ff:"2",fff:"0",g:"1",gg:"2",ggg:" ",h:"-",hh:" ",hhh:new Date().getFullYear(),i:".",ii:" ",iii:"G",j:"A",jj:"T",jjj:"O",k:"T",kk:" ",kkk:"K",l:"A",ll:"C",lll:"A",m:" ",mm:"E",mmm:"R",n:"P",nn:" ",nnn:"v",o:".",oo:"1",ooo:".",p:"0"});