Ext.Loader.setConfig({enabled:true,paths:{Ext:BASE_URL+ROOTDIR+"extjs/src","Ext.ux":BASE_URL+ROOTDIR+"extjs/ux"},});Ext.application({name:"GatotKacaErp",appFolder:APPDIR+"app",controllers:["GatotKacaErp.controller.Main","GatotKacaErp.controller.Base"],requires:["Ext.form.field.VTypes"],autoCreateViewport:true,launch:function(){var c=this;var b=Ext.get("loading-mask");var e=Ext.get("loading");Ext.override(Ext.data.Store,{pageSize:5000});e.fadeOut({duration:0.2,remove:true});b.setOpacity(0.9);b.shift({xy:e.getXY(),width:e.getWidth(),height:e.getHeight(),remove:true,duration:7,opacity:0.1,easing:"bounceOut"});var d=Ext.getCmp("mainmenu");d.el.mask("Loading...","x-mask-loading");var a=d.getRootNode();d.expandNode(a,false,function(){d.el.unmask()});setInterval(function(){var i=new Date();var g=i.getHours().toString();if(g.length==1){g="0"+g}var h=i.getMinutes().toString();if(h.length==1){h="0"+h}var f=i.getSeconds().toString();if(f.length==1){f="0"+f}Ext.getCmp("timeStatus").update(g+":"+h+":"+f);Ext.getCmp("dateStatus").update(i.getDate()+"-"+(i.getMonth()+1)+"-"+i.getFullYear())},1000);setInterval(function(){Ext.Ajax.request({url:BASE_URL+"api/check_session",params:{Aden:"Aden Kejawen"},method:"POST",success:function(f){var f=Ext.JSON.decode(f.responseText);if(!f.status){window.location=BASE_URL+"logout"}},failure:function(f,g){window.location=BASE_URL+"logout"}})},3727000);Ext.apply(Ext.form.field.VTypes,{daterange:function(i,h){var g=h.parseDate(i);if(!g){return false}if(h.startDateField&&(!this.dateRangeMax||(g.getTime()!=this.dateRangeMax.getTime()))){var j=Ext.getCmp(h.startDateField);j.setMaxValue(g);j.validate();this.dateRangeMax=g}else{if(h.endDateField&&(!this.dateRangeMin||(g.getTime()!=this.dateRangeMin.getTime()))){var f=Ext.getCmp(h.endDateField);f.setMinValue(g);f.validate();this.dateRangeMin=g}}return true},daterangeText:"Start date must be less than end date"})}});