Ext.define("Com.GatotKaca.ERP.module.HumanResources.view.forms.Career",{extend:"Ext.form.Panel",requires:["Com.GatotKaca.ERP.module.HumanResources.view.grids.CareerHistory"],store:"Com.GatotKaca.ERP.module.HumanResources.store.CareerHistory",alias:"widget.formcareer",id:"formcareer",title:"Career",border:true,autoHeight:true,layout:{type:"vbox",align:"stretch"},plugins:{ptype:"datatip"},bodyStyle:"padding : 5px; background : transparent;",defaultType:"textfield",items:[{name:"employee_id",xtype:"hidden",allowBlank:false},{name:"career_id",xtype:"hidden",allowBlank:false},{xtype:"fieldset",title:"Promotion Letter",defaults:{fieldAlign:"left",labelWidth:97,anchor:"100%",layout:{type:"hbox"}},items:[{xtype:"fieldcontainer",fieldLabel:"Employee",beforeLabelTextTpl:REQUIRED,combineErrors:true,msgTarget:"side",hideLabel:false,defaults:{flex:1,allowBlank:false,editable:false,xtype:"textfield",hideLabel:true,labelWidth:97},items:[{fieldLabel:"First Name",emptyText:"First Name",tooltip:"First Name",name:"employee_fname",margins:"0px 5px 0px 0px"},{fieldLabel:"Last Name",emptyText:"Last Name",tooltip:"Last Name",name:"employee_lname"}]},{xtype:"fieldcontainer",fieldLabel:"Promotion Letter",combineErrors:true,msgTarget:"side",hideLabel:true,defaults:{flex:1,allowBlank:false,beforeLabelTextTpl:REQUIRED,editable:false,xtype:"textfield",labelWidth:97},items:[{fieldLabel:"Date",xtype:"datefield",tooltip:"Promotion Date",format:DATE_FORMAT,emptyText:DATE_FORMAT_TEXT,name:"career_date",margins:"0px 5px 0px 0px"},{fieldLabel:"Number",emptyText:"Letter Number",tooltip:"Promotion Letter Number",name:"career_refno"}]}]},{xtype:"container",layout:"hbox",defaults:{flex:1},items:[{xtype:"fieldset",title:"Old Company",defaults:{fieldLabel:77,anchor:"100%",allowBlank:false,beforeLabelTextTpl:REQUIRED},items:[{fieldLabel:"Company",emptyText:"Old Company",tooltip:"Old Company",store:"Com.GatotKaca.ERP.module.HumanResources.store.CareerOldCompany",name:"employee_company",displayField:"company_name",valueField:"company_id",xtype:"combo",readOnly:true},{fieldLabel:"Job Title",emptyText:"Old Job Title",tooltip:"Old Job Title",store:"Com.GatotKaca.ERP.module.HumanResources.store.CareerOldJobTitle",name:"employee_jobtitle",displayField:"jobtitle_name",valueField:"jobtitle_id",queryMode:"local",xtype:"combo",readOnly:true},{fieldLabel:"Supervisor",emptyText:"Old Supervisor",tooltip:"Old Supervisor",store:"Com.GatotKaca.ERP.module.HumanResources.store.CareerOldSupervisor",name:"employee_supervisor",displayField:"employee_fname",valueField:"employee_id",queryMode:"local",beforeLabelTextTpl:"",allowBlank:true,readOnly:true,xtype:"combo"}],margins:"0px 5px 0px 0px"},{xtype:"fieldset",title:"New Company",defaults:{fieldLabel:77,anchor:"100%",allowBlank:false,beforeLabelTextTpl:REQUIRED},items:[{fieldLabel:"Company",emptyText:"Select Company",tooltip:"Select New Company",store:"Com.GatotKaca.ERP.module.HumanResources.store.CareerNewCompany",name:"career_company",displayField:"company_name",valueField:"company_id",xtype:"combo"},{fieldLabel:"Job Title",emptyText:"Select Job Title",tooltip:"Select New Job Title",store:"Com.GatotKaca.ERP.module.HumanResources.store.CareerNewJobTitle",name:"career_jobtitle",displayField:"jobtitle_name",valueField:"jobtitle_id",action:"jobtitle",xtype:"combo"},{fieldLabel:"Supervisor",emptyText:"Select Supervisor",tooltip:"Select New Supervisor",store:"Com.GatotKaca.ERP.module.HumanResources.store.CareerNewSupervisor",name:"career_supervisor",displayField:"employee_fname",valueField:"employee_id",queryMode:"local",beforeLabelTextTpl:"",editable:false,allowBlank:true,listConfig:{getInnerTpl:function(){return"{employee_code} | {employee_fname} {employee_lname}"}},xtype:"combo"}]}]},{xtype:"gridcareerhistory",flex:2}],tbar:[{text:"Save",iconCls:"icon-disk",action:"save"},{text:"Reset",iconCls:"icon-error",action:"reset"}]});