Ext.define("GatotKacaErp.module.HumanResources.controller.Career",{extend:"GatotKacaErp.controller.Base",views:["GatotKacaErp.module.HumanResources.view.Career"],store:"GatotKacaErp.module.HumanResources.store.Career",fmSelector:"formcareer",init:function(){var b=this;var a=b.getStore(b.store);a.addListener("load",b.onStoreLoad,b);b.loadStore(a);b.getStore("GatotKacaErp.module.HumanResources.store.CareerHistory");b.getStore("GatotKacaErp.store.Company").load();b.getStore("GatotKacaErp.store.JobTitle").load();b.getStore("GatotKacaErp.store.Employee");b.control({"gridcareer textfield[action=search]":{keypress:b.search},"gridcareer button[action=refresh]":{click:b.reloadStore},gridcareer:{itemclick:b.view}});b.callParent(arguments)},search:function(d,a,c){var b=this;if(a.ENTER==a.getKey()){b.loadStore(b.store,{query:d.getValue()})}},reloadStore:function(){this.loadStore(this.store)},view:function(d,c,h,a,b,g){var f=this;var e=f.getForm(f.fmSelector);f.ajaxRequest(BASE_URL+"human_resources/employee/getcareer",{employee_id:c.data.employee_id},function(i){})}});