Ext.define("Com.GatotKaca.ERP.module.Personal.controller.OverTimeBase",{extend:"Com.GatotKaca.ERP.controller.Base",resetForm:function(b,a,d){var c=this.getForm(this.fmSelector);c.findField("ot_status").setReadOnly(true);c.reset()},save:function(b,a,e){var d=this;var c=b.up("form").getForm();if(c.isValid()){d.ajaxRequest(BASE_URL+"human_resources/overtime/save",{overtime:Ext.JSON.encode(c.getValues())},function(f){d.showMessage({title:"SERVER MESSAGE",msg:f.msg,icon:Ext.MessageBox.INFO,buttons:Ext.MessageBox.OK});d.getStore(d.store).removeAll();d.reloadStore();d.resetForm()})}else{d.showMessage({title:"ERROR MESSAGE",msg:"Form is not valid",icon:Ext.MessageBox.WARNING,buttons:Ext.MessageBox.OK})}},filter:function(b,a,e){var d=this;var c=this.getForm(this.fmSelector);var g=Ext.Date.format(Ext.getCmp(d.startDate).getValue(),DATE_FORMAT);var f=Ext.Date.format(Ext.getCmp(d.endDate).getValue(),DATE_FORMAT);if(g!=""&&f!=""){this.loadStore(d.store,{from:g,to:f})}else{this.loadStore(d.store)}}});