Ext.define("GatotKacaErp.module.Personal.controller.OverTime",{extend:"GatotKacaErp.module.Personal.controller.OverTimeBase",views:["GatotKacaErp.module.Personal.view.OverTime"],store:"GatotKacaErp.module.Personal.store.OverTime",fmSelector:"formprovertime",startDate:"prOtFilterFrom",endDate:"prOtFilterTo",init:function(){var b=this;var a=b.getStore(b.store);a.addListener("load",b.onStoreLoad,b);b.loadStore(a);b.getStore("GatotKacaErp.store.Hour");b.getStore("GatotKacaErp.store.Minute");b.getStore("GatotKacaErp.store.Agreement");b.control({"formprovertime button[action=reset]":{click:b.resetForm},"formprovertime button[action=save]":{click:b.save},"gridprovertime button[action=refresh]":{click:b.filter},"gridprovertime datefield[name=prOtFilterFrom]":{change:b.filter},"gridprovertime datefield[name=prOtFilterTo]":{change:b.filter},gridprovertime:{select:b.viewDetail}});b.callParent(arguments)},viewDetail:function(d,c,g,a,b,f){var e=this.getForm(this.fmSelector);this.ajaxRequest(BASE_URL+"personal/overtime/getbyid",{overtime_id:c.data.overtime_id},function(h){e.setValues(h.data[0]);var j=h.data[0].ot_start.split(":");var i=h.data[0].ot_end.split(":");e.findField("ot_start_h").setValue(j[0]);e.findField("ot_start_m").setValue(j[1]);e.findField("ot_end_h").setValue(i[0]);e.findField("ot_end_m").setValue(i[1])})}});