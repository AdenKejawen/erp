Ext.define("Ext.ux.ajax.DataSimlet",function(){function b(f,e){var c=f.direction,d=(c&&c.toUpperCase()=="DESC")?-1:1;return function(h,i){var g=h[f.property],k=i[f.property],j=(g<k)?-1:((k<g)?1:0);if(j||!e){return j*d}return e(h,i)}}function a(c,e){for(var f=e,d=c&&c.length;d;){f=b(c[--d],f)}return f}return{extend:"Ext.ux.ajax.Simlet",getData:function(e){var f=this,h=f.data,i=e.params,d=(i.group||"")+"-"+(i.sort||"")+"-"+(i.dir||""),c,g;if(!d){return h}e.groupSpec=i.group&&Ext.decode(i.group);if(d==f.currentOrder){return f.sortedData}c=i.sort;if(i.dir){c=[{direction:i.dir,property:c}]}else{c=Ext.decode(i.sort)}g=a((e.sortSpec=c));g=a(e.groupSpec,g);h=h.slice(0);if(g){Ext.Array.sort(h,g)}f.sortedData=h;f.currentOrder=d;return h},getPage:function(d,g){var e=g,f=g.length,h=d.params.start||0,c=d.params.limit?Math.min(f,h+d.params.limit):f;if(h||c<f){e=e.slice(h,c)}return e},getGroupSummary:function(d,e,c){return e[0]},getSummary:function(m,g,h){var j=this,c=m.groupSpec[0].property,k,f={},i=[],d,e;Ext.each(h,function(n){d=n[c];f[d]=true});function l(){if(k){i.push(j.getGroupSummary(c,k,m));k=null}}Ext.each(g,function(n){d=n[c];if(e!==d){l();e=d}if(!f[d]){return !i.length}if(k){k.push(n)}else{k=[n]}return true});l();return i}}}());