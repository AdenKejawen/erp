Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent"],parseResponse:function(a){if(!Ext.isEmpty(a.responseText)){if(Ext.isObject(a.responseText)){return a.responseText}return Ext.decode(a.responseText)}return null},createEvents:function(b){var g=null,d=[],f,c=0,a;try{g=this.parseResponse(b)}catch(h){f=new Ext.direct.ExceptionEvent({data:h,xhr:b,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+g});return[f]}if(Ext.isArray(g)){for(a=g.length;c<a;++c){d.push(this.createEvent(g[c]))}}else{d.push(this.createEvent(g))}return d},createEvent:function(a){return Ext.create("direct."+a.type,a)}});