Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var x=this,a=x.splitter,n=a.collapseTarget,d=a.defaultSplitMin,g=a.vertical?"Width":"Height",c="min"+g,t="max"+g,h="get"+g,s=a.neighbors,e=s.length,m=n.el.getBox(),f=m.x,o=m.y,w=m.right,j=m.bottom,q=a.vertical?(w-f):(j-o),v,k,l,u,r,p,b;l=(n[c]||Math.min(q,d))-q;u=n[t];if(!u){u=1000000000}else{u-=q}b=q;for(v=0;v<e;++v){k=s[v];q=k[h]();r=q-k[t];p=q-(k[c]||Math.min(q,d));if(!isNaN(r)){if(l<r){l=r}}if(u>p){u=p}}if(u-l<2){return null}m=new Ext.util.Region(o,w,j,f);x.constraintAdjusters[x.getCollapseDirection()](m,l,u,a);x.dragInfo={minRange:l,maxRange:u,targetSize:b};return m},constraintAdjusters:{left:function(c,a,b,d){c[0]=c.x=c.left=c.right+a;c.right+=b+d.getWidth()},top:function(c,a,b,d){c[1]=c.y=c.top=c.bottom+a;c.bottom+=b+d.getHeight()},bottom:function(c,a,b,d){c.bottom=c.top-a;c.top-=b+d.getHeight()},right:function(c,a,b,d){c.right=c.left-a;c[0]=c.x=c.left=c.x-b+d.getWidth()}},onBeforeStart:function(g){var j=this,b=j.splitter,a=b.collapseTarget,l=b.neighbors,d=j.getSplitter().collapseEl,h=g.getTarget(),c=l.length,f,k;if(d&&h===b.collapseEl.dom){return false}if(a.collapsed){return false}for(f=0;f<c;++f){k=l[f];if(k.collapsed&&k.isHorz===a.isHorz){return false}}if(!(j.constrainTo=j.calculateConstrainRegion())){return false}return true},performResize:function(i,h){var j=this,b=j.splitter,g=b.getCollapseDirection(),a=b.collapseTarget,f=j.splitAdjusters[b.vertical?"horz":"vert"],k=h[f.index],d=j.dragInfo,c;if(g=="right"||g=="bottom"){k=-k}k=Math.min(Math.max(d.minRange,k),d.maxRange);if(k){(c=b.ownerCt).suspendLayouts();f.adjustTarget(a,d.targetSize,k);c.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(b,a,c){b.flex=null;b.setSize(a+c)}},vert:{index:1,adjustTarget:function(b,a,c){b.flex=null;b.setSize(undefined,a+c)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}});