Ext.define("Ext.util.Event",{requires:"Ext.util.DelayedTask",isEvent:true,suspended:0,noOptions:{},constructor:function(b,a){this.name=a;this.observable=b;this.listeners=[]},addListener:function(j,l,n){var g=this,h,c,k,a,m,f,b,e,d;l=l||g.observable;if(!j){Ext.Error.raise({sourceClass:Ext.getClassName(this.observable),sourceMethod:"addListener",msg:"The specified callback function is undefined"})}if(!g.isListening(j,l)){c=g.createListener(j,l,n);if(g.firing){g.listeners=g.listeners.slice(0)}h=g.listeners;e=b=h.length;k=n&&n.priority;m=g._highestNegativePriorityIndex;f=(m!==undefined);if(k){a=(k<0);if(!a||f){for(d=(a?m:0);d<b;d++){if((h[d].o.priority||0)<k){e=d;break}}}else{g._highestNegativePriorityIndex=e}}else{if(f){e=m}}if(!a&&e<=m){g._highestNegativePriorityIndex++}Ext.Array.splice(g.listeners,e,0,c)}},createListener:function(c,b,f){f=f||{};b=b||this.observable;var d=this,e={fn:c,scope:b,o:f,ev:d},a=c;if(f.single){a=d.createSingle(a,e,f,b)}if(f.target){a=d.createTargeted(a,e,f,b)}if(f.delay){a=d.createDelayed(a,e,f,b)}if(f.buffer){a=d.createBuffered(a,e,f,b)}e.fireFn=a;return e},findListener:function(e,d){var c=this.listeners,a=c.length,f,b;while(a--){f=c[a];if(f){b=f.scope;if(f.fn==e&&(b==(d||this.observable))){return a}}}return -1},isListening:function(b,a){return this.findListener(b,a)!==-1},removeListener:function(d,c){var e=this,b,g,f,a;b=e.findListener(d,c);if(b!=-1){g=e.listeners[b];f=e._highestNegativePriorityIndex;if(e.firing){e.listeners=e.listeners.slice(0)}if(g.task){g.task.cancel();delete g.task}a=g.tasks&&g.tasks.length;if(a){while(a--){g.tasks[a].cancel()}delete g.tasks}Ext.Array.erase(e.listeners,b,1);if(f){if(b<f){e._highestNegativePriorityIndex--}else{if(b===f&&b===e.listeners.length){delete e._highestNegativePriorityIndex}}}return true}return false},clearListeners:function(){var b=this.listeners,a=b.length;while(a--){this.removeListener(b[a].fn,b[a].scope)}},suspend:function(){this.suspended+=1},resume:function(){if(this.suspended){this.suspended--}},fire:function(){var e=this,c=e.listeners,d=c.length,b,a,f;if(!e.suspended&&d>0){e.firing=true;for(b=0;b<d;b++){f=c[b];a=arguments.length?Array.prototype.slice.call(arguments,0):[];if(f.o){a.push(f.o)}if(f&&f.fireFn.apply(f.scope||e.observable,a)===false){return(e.firing=false)}}}e.firing=false;return true},createTargeted:function(b,c,d,a){return function(){if(d.target===arguments[0]){b.apply(a,arguments)}}},createBuffered:function(b,c,d,a){c.task=new Ext.util.DelayedTask();return function(){c.task.delay(d.buffer,b,a,Ext.Array.toArray(arguments))}},createDelayed:function(b,c,d,a){return function(){var e=new Ext.util.DelayedTask();if(!c.tasks){c.tasks=[]}c.tasks.push(e);e.delay(d.delay||10,b,a,Ext.Array.toArray(arguments))}},createSingle:function(b,c,d,a){return function(){var e=c.ev;if(e.removeListener(c.fn,a)&&e.observable){e.observable.hasListeners[e.name]--}return b.apply(a,arguments)}}});