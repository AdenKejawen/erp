Ext.dom.AbstractElement.addInheritableStatics({unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(b,a){if(typeof b=="number"){return b+(a||this.defaultUnit||"px")}if(b===""||b=="auto"||b===undefined||b===null){return b||""}if(!this.unitRe.test(b)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Warning, size detected as NaN on Element.addUnits.")}return b||""}return b},isAncestor:function(b,d){var a=false;b=Ext.getDom(b);d=Ext.getDom(d);if(b&&d){if(b.contains){return b.contains(d)}else{if(b.compareDocumentPosition){return !!(b.compareDocumentPosition(d)&16)}else{while((d=d.parentNode)){a=d==b||a}}}}return a},parseBox:function(b){if(typeof b!="string"){b=b.toString()}var c=b.split(" "),a=c.length;if(a==1){c[1]=c[2]=c[3]=c[0]}else{if(a==2){c[2]=c[0];c[3]=c[1]}else{if(a==3){c[3]=c[1]}}}return{top:parseFloat(c[0])||0,right:parseFloat(c[1])||0,bottom:parseFloat(c[2])||0,left:parseFloat(c[3])||0}},unitizeBox:function(f,e){var d=this.addUnits,c=this.parseBox(f);return d(c.top,e)+" "+d(c.right,e)+" "+d(c.bottom,e)+" "+d(c.left,e)},camelReplaceFn:function(b,c){return c.charAt(1).toUpperCase()},normalize:function(a){if(a=="float"){a=Ext.supports.Float?"cssFloat":"styleFloat"}return this.propertyCache[a]||(this.propertyCache[a]=a.replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){if(Ext.supports.OrientationChange){return(window.orientation==0)?"portrait":"landscape"}return(window.innerHeight>window.innerWidth)?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))},parseStyles:function(c){var a={},b=this.cssRe,d;if(c){b.lastIndex=0;while((d=b.exec(c))){a[d[1]]=d[2]}}return a}});(function(){var f=document,a=Ext.dom.AbstractElement,e=null,d=f.compatMode=="CSS1Compat",c,b=function(h){if(!c){c=new a.Fly()}c.attach(h);return c};if(!("activeElement" in f)&&f.addEventListener){f.addEventListener("focus",function(h){if(h&&h.target){e=(h.target==f)?null:h.target}},true)}function g(i,j,h){return function(){i.selectionStart=j;i.selectionEnd=h}}a.addInheritableStatics({getActiveElement:function(){return f.activeElement||e},getRightMarginFixCleaner:function(m){var j=Ext.supports,k=j.DisplayChangeInputSelectionBug,l=j.DisplayChangeTextAreaSelectionBug,n,h,o,i;if(k||l){n=f.activeElement||e;h=n&&n.tagName;if((l&&h=="TEXTAREA")||(k&&h=="INPUT"&&n.type=="text")){if(Ext.dom.Element.isAncestor(m,n)){o=n.selectionStart;i=n.selectionEnd;if(Ext.isNumber(o)&&Ext.isNumber(i)){return g(n,o,i)}}}}return Ext.emptyFn},getViewWidth:function(h){return h?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(h){return h?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(!d?f.body.scrollHeight:f.documentElement.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(!d?f.body.scrollWidth:f.documentElement.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?(Ext.isStrict?f.documentElement.clientHeight:f.body.clientHeight):self.innerHeight},getViewportWidth:function(){return(!Ext.isStrict&&!Ext.isOpera)?f.body.clientWidth:Ext.isIE?f.documentElement.clientWidth:self.innerWidth},getY:function(h){return Ext.dom.Element.getXY(h)[1]},getX:function(h){return Ext.dom.Element.getXY(h)[0]},getXY:function(j){var m=f.body,i=f.documentElement,h=0,k=0,n=[0,0],q=Math.round,l,p;j=Ext.getDom(j);if(j!=f&&j!=m){if(Ext.isIE){try{l=j.getBoundingClientRect();k=i.clientTop||m.clientTop;h=i.clientLeft||m.clientLeft}catch(o){l={left:0,top:0}}}else{l=j.getBoundingClientRect()}p=b(document).getScroll();n=[q(l.left+p.left-h),q(l.top+p.top-k)]}return n},setXY:function(i,j){(i=Ext.fly(i,"_setXY")).position();var k=i.translatePoints(j),h=i.dom.style,l;for(l in k){if(!isNaN(k[l])){h[l]=k[l]+"px"}}},setX:function(i,h){Ext.dom.Element.setXY(i,[h,false])},setY:function(h,i){Ext.dom.Element.setXY(h,[false,i])},serializeForm:function(j){var k=j.elements||(document.forms[j]||Ext.getDom(j)).elements,u=false,t=encodeURIComponent,n="",m=k.length,p,h,s,w,v,q,l,r,i;for(q=0;q<m;q++){p=k[q];h=p.name;s=p.type;w=p.options;if(!p.disabled&&h){if(/select-(one|multiple)/i.test(s)){r=w.length;for(l=0;l<r;l++){i=w[l];if(i.selected){v=i.hasAttribute?i.hasAttribute("value"):i.getAttributeNode("value").specified;n+=Ext.String.format("{0}={1}&",t(h),t(v?i.value:i.text))}}}else{if(!(/file|undefined|reset|button/i.test(s))){if(!(/radio|checkbox/i.test(s)&&!p.checked)&&!(s=="submit"&&u)){n+=t(h)+"="+t(p.value)+"&";u=/submit/i.test(s)}}}}}return n.substr(0,n.length-1)}})}());