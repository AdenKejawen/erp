Ext.define("Ext.rtl.AbstractComponent",{override:"Ext.AbstractComponent",initStyles:function(){if(this.getHierarchyState().rtl){this.horizontalPosProp="right"}this.callParent(arguments)},convertPositionSpec:function(a){if((Ext.rootHierarchyState.rtl||false)!==(this.getHierarchyState().rtl||false)){a=a.replace(/l/g,"tmp").replace(/r/g,"l").replace(/tmp/g,"r")}return a},getAnchorToXY:function(a,c,g,b){var i=document,f,h,e,d;if(a.dom==i.body||a.dom==i){h=Ext.rootHierarchyState.rtl?a.rtlGetScroll():a.getScroll();e=h.left;d=h.top}else{f=a.getXY();e=g?0:f[0];d=g?0:f[1]}return a.calculateAnchorXY(c,e,d,b)},getBorderPadding:function(){var b=this.el.getBorderPadding(),a;if(this.isParentRtl()){a=b.xBegin;b.xBegin=b.xEnd;b.xEnd=a}return b},getLocalX:function(){return this.isLocalRtl()?this.el.rtlGetLocalX():this.el.getLocalX()},getLocalXY:function(){return this.isLocalRtl()?this.el.rtlGetLocalXY():this.el.getLocalXY()},unitizeBox:function(a){if(this.getHierarchyState().rtl){return Ext.dom.Element.rtlUnitizeBox(a)}else{return this.callParent(arguments)}},parseBox:function(a){if(this.getHierarchyState().rtl){return Ext.dom.Element.rtlParseBox(a)}else{return this.callParent(arguments)}},initHierarchyState:function(b){this.callParent(arguments);var a=this.rtl;if(a!==undefined){b.rtl=a}},isLocalRtl:function(){var b=this,d,a,c;if(b.floating){if(b._isOffsetParentRtl===undefined){a=this.el.dom.offsetParent||this.el.dom.parentNode;if(a){c=document;if(a===c.documentElement){a=c.body}b._isOffsetParentRtl=Ext.fly(a,"_isLocalRtl").isStyle("direction","rtl")}}d=!!b._isOffsetParentRtl}else{d=this.isParentRtl()}return d},isParentRtl:function(){var b=this,d=b.getHierarchyState(),a=false,c;if(d.hasOwnProperty("rtl")){c=d.rtl;delete d.rtl}if(d.rtl){a=true}if(c!==undefined){d.rtl=c}return a},setLocalX:function(a){return this.isLocalRtl()?this.el.rtlSetLocalX(a):this.el.setLocalX(a)},setLocalXY:function(a,b){return this.isLocalRtl()?this.el.rtlSetLocalXY(a,b):this.el.setLocalXY(a,b)},isOppositeRootDirection:function(){return !this.getHierarchyState().rtl!==!Ext.rootHierarchyState.rtl}},function(){Ext.on({ready:function(){if((Ext.fly(document.documentElement).isStyle("direction","rtl"))||(Ext.getBody().isStyle("direction","rtl"))){Ext.rootHierarchyState.rtl=true}},single:true,priority:1000})});