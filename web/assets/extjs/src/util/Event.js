Ext.define("Ext.util.Event",function(){var d=Array.prototype.slice,a=Ext.Array.insert,b=Ext.Array.toArray,c=Ext.util.DelayedTask;return{requires:"Ext.util.DelayedTask",isEvent:true,suspended:0,noOptions:{},constructor:function(f,e){this.name=e;this.observable=f;this.listeners=[]},addListener:function(o,q,s){var m=this,n,h,p,e,r,l,g,k,j,f;q=q||m.observable;if(!o){Ext.Error.raise({sourceClass:Ext.getClassName(this.observable),sourceMethod:"addListener",msg:"The specified callback function is undefined"})}if(!m.isListening(o,q)){h=m.createListener(o,q,s);if(m.firing){m.listeners=m.listeners.slice(0)}n=m.listeners;k=g=n.length;p=s&&s.priority;r=m._highestNegativePriorityIndex;l=(r!==undefined);if(p){e=(p<0);if(!e||l){for(j=(e?r:0);j<g;j++){f=n[j].o?n[j].o.priority||0:0;if(f<p){k=j;break}}}else{m._highestNegativePriorityIndex=k}}else{if(l){k=r}}if(!e&&k<=r){m._highestNegativePriorityIndex++}if(k===g){m.listeners[g]=h}else{a(m.listeners,k,[h])}}},createListener:function(g,f,j){f=f||this.observable;var h=this,i={fn:g,scope:f,ev:h},e=g;if(j){i.o=j;if(j.single){e=h.createSingle(e,i,j,f)}if(j.target){e=h.createTargeted(e,i,j,f)}if(j.delay){e=h.createDelayed(e,i,j,f)}if(j.buffer){e=h.createBuffered(e,i,j,f)}}i.fireFn=e;return i},findListener:function(j,h){var g=this.listeners,e=g.length,k,f;while(e--){k=g[e];if(k){f=k.scope;if(k.fn==j&&(f==(h||this.observable))){return e}}}return -1},isListening:function(f,e){return this.findListener(f,e)!==-1},removeListener:function(h,g){var i=this,f,l,j,e;f=i.findListener(h,g);if(f!=-1){l=i.listeners[f];j=i._highestNegativePriorityIndex;if(i.firing){i.listeners=i.listeners.slice(0)}if(l.task){l.task.cancel();delete l.task}e=l.tasks&&l.tasks.length;if(e){while(e--){l.tasks[e].cancel()}delete l.tasks}i.listeners.splice(f,1);if(j){if(f<j){i._highestNegativePriorityIndex--}else{if(f===j&&f===i.listeners.length){delete i._highestNegativePriorityIndex}}}return true}return false},clearListeners:function(){var f=this.listeners,e=f.length;while(e--){this.removeListener(f[e].fn,f[e].scope)}},suspend:function(){this.suspended+=1},resume:function(){if(this.suspended){this.suspended--}},fire:function(){var k=this,h=k.listeners,j=h.length,g,f,l,e;if(!k.suspended&&j>0){k.firing=true;f=arguments.length?d.call(arguments,0):[];e=f.length;for(g=0;g<j;g++){l=h[g];if(l.o){f[e]=l.o}if(l&&l.fireFn.apply(l.scope||k.observable,f)===false){return(k.firing=false)}}}k.firing=false;return true},createTargeted:function(f,g,h,e){return function(){if(h.target===arguments[0]){f.apply(e,arguments)}}},createBuffered:function(f,g,h,e){g.task=new c();return function(){g.task.delay(h.buffer,f,e,b(arguments))}},createDelayed:function(f,g,h,e){return function(){var i=new c();if(!g.tasks){g.tasks=[]}g.tasks.push(i);i.delay(h.delay||10,f,e,b(arguments))}},createSingle:function(f,g,h,e){return function(){var i=g.ev;if(i.removeListener(g.fn,e)&&i.observable){i.observable.hasListeners[i.name]--}return f.apply(e,arguments)}}}});