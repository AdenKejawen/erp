Ext.define("Ext.util.Observable",function(a){var b=function(c){if(c instanceof b){return c}this.observable=c;if(arguments[1].isObservable){this.managedListeners=true}this.args=Ext.Array.slice(arguments,1)};b.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)};return{requires:["Ext.util.Event","Ext.EventManager"],statics:{releaseCapture:function(c){c.fireEvent=this.prototype.fireEvent},capture:function(e,d,c){e.fireEvent=Ext.Function.createInterceptor(e.fireEvent,d,c)},observe:function(c,d){if(c){if(!c.isObservable){Ext.applyIf(c,new this());this.capture(c.prototype,c.fireEvent,c)}if(Ext.isObject(d)){c.on(d)}}return c},prepareClass:function(e,d){if(!e.HasListeners){var f=function(){},c=e.superclass.HasListeners||(d&&d.HasListeners)||a.HasListeners;e.prototype.HasListeners=e.HasListeners=f;f.prototype=e.hasListeners=new c()}}},isObservable:true,eventsSuspended:0,constructor:function(c){var d=this;Ext.apply(d,c);if(!d.hasListeners){d.hasListeners=new d.HasListeners()}d.events=d.events||{};if(d.listeners){d.on(d.listeners);d.listeners=null}if(d.bubbleEvents){d.enableBubble(d.bubbleEvents)}},onClassExtended:function(c){if(!c.HasListeners){a.prepareClass(c)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(i,e,g,j,k,d){var f=this,h=f.managedListeners=f.managedListeners||[],c;if(typeof e!=="string"){k=e;for(e in k){if(k.hasOwnProperty(e)){c=k[e];if(!f.eventOptionsRe.test(e)){f.addManagedListener(i,e,c.fn||c,c.scope||k.scope||j,c.fn?c:k,true)}}}if(k&&k.destroyable){return new b(f,i,k)}}else{if(typeof g==="string"){j=j||f;if(!(j[g])){Ext.Error.raise('No method named "'+g+'"')}g=j[g]}h.push({item:i,ename:e,fn:g,scope:j,options:k});i.on(e,g,j,k);if(!d&&k&&k.destroyable){return new b(f,i,e,g,j)}}},removeManagedListener:function(k,e,h,l){var g=this,m,d,j,c,f;if(typeof e!=="string"){m=e;for(e in m){if(m.hasOwnProperty(e)){d=m[e];if(!g.eventOptionsRe.test(e)){g.removeManagedListener(k,e,d.fn||d,d.scope||m.scope||l)}}}}else{j=g.managedListeners?g.managedListeners.slice():[];for(f=0,c=j.length;f<c;f++){g.removeManagedListenerItem(false,j[f],k,e,h,l)}}},fireEvent:function(c){c=c.toLowerCase();var g=this,e=g.events,f=e&&e[c],d=true;if(f&&g.hasListeners[c]){d=g.continueFireEvent(c,Ext.Array.slice(arguments,1),f.bubble)}return d},continueFireEvent:function(e,g,d){var i=this,c,h,f=true;do{if(i.eventsSuspended){if((c=i.eventQueue)){c.push([e,g,d])}return f}else{h=i.events[e];if(h&&h!=true){if((f=h.fire.apply(h,g))===false){break}}}}while(d&&(i=i.getBubbleParent()));return f},getBubbleParent:function(){var d=this,c=d.getBubbleTarget&&d.getBubbleTarget();if(c&&c.isObservable){return c}return null},addListener:function(e,h,j,k){var g=this,d,c,f,i=0;if(typeof e!=="string"){k=e;for(e in k){if(k.hasOwnProperty(e)){d=k[e];if(!g.eventOptionsRe.test(e)){g.addListener(e,d.fn||d,d.scope||k.scope,d.fn?d:k)}}}if(k&&k.destroyable){return new b(g,k)}}else{e=e.toLowerCase();c=g.events[e];if(c&&c.isEvent){i=c.listeners.length}else{g.events[e]=c=new Ext.util.Event(g,e)}if(!h){Ext.Error.raise("No function passed for event "+g.$className+"."+e)}if(typeof h==="string"){j=j||g;if(!(j[h])){Ext.Error.raise('No method named "'+h+'"')}h=j[h]}c.addListener(h,j,k);if(c.listeners.length!==i){f=g.hasListeners;if(f.hasOwnProperty(e)){++f[e]}else{f[e]=1}}if(k&&k.destroyable){return new b(g,e,h,j,k)}}},removeListener:function(e,g,f){var i=this,d,h,c;if(typeof e!=="string"){c=e;for(e in c){if(c.hasOwnProperty(e)){d=c[e];if(!i.eventOptionsRe.test(e)){i.removeListener(e,d.fn||d,d.scope||c.scope)}}}}else{e=e.toLowerCase();h=i.events[e];if(h&&h.isEvent){if(h.removeListener(g,f)&&!--i.hasListeners[e]){delete i.hasListeners[e]}}}},clearListeners:function(){var e=this.events,c=this.hasListeners,f,d;for(d in e){if(e.hasOwnProperty(d)){f=e[d];if(f.isEvent){delete c[d];f.clearListeners()}}}this.clearManagedListeners()},purgeListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners.")}return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var d=this.managedListeners||[],e=0,c=d.length;for(;e<c;e++){this.removeManagedListenerItem(true,d[e])}this.managedListeners=[]},removeManagedListenerItem:function(d,c,h,e,g,f){if(d||(c.item===h&&c.ename===e&&(!g||c.fn===g)&&(!f||c.scope===f))){c.item.un(c.ename,c.fn,c.scope);if(!d){Ext.Array.remove(this.managedListeners,c)}}},purgeManagedListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners.")}return this.clearManagedListeners.apply(this,arguments)},addEvents:function(h){var g=this,f=g.events||(g.events={}),c,d,e;if(typeof h=="string"){for(d=arguments,e=d.length;e--;){c=d[e];if(!f[c]){f[c]=true}}}else{Ext.applyIf(g.events,h)}},hasListener:function(c){return !!this.hasListeners[c.toLowerCase()]},suspendEvents:function(c){this.eventsSuspended+=1;if(c&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(d){var c=arguments.length,e,f;for(e=0;e<c;e++){f=this.events[arguments[e]];if(f&&f.suspend){f.suspend()}}},resumeEvent:function(){var c=arguments.length,d,e;for(d=0;d<c;d++){e=this.events[arguments[d]];if(e&&e.resume){e.resume()}}},resumeEvents:function(){var c=this,f=c.eventQueue,e,d;if(c.eventsSuspended&&!--c.eventsSuspended){delete c.eventQueue;if(f){e=f.length;for(d=0;d<e;d++){c.continueFireEvent.apply(c,f[d])}}}},relayEvents:function(d,f,j){var h=this,c=f.length,e=0,g,k={};for(;e<c;e++){g=f[e];k[g]=h.createRelayer(j?j+g:g)}h.mon(d,k);return new b(h,d,k)},createRelayer:function(c,d){var e=this;return function(){return e.fireEvent.apply(e,[c].concat(Array.prototype.slice.apply(arguments,d||[0,-1])))}},enableBubble:function(k){if(k){var h=this,j=(typeof k=="string")?arguments:k,g=j.length,e=h.events,d,f,c;for(c=0;c<g;++c){d=j[c].toLowerCase();f=e[d];if(!f||typeof f=="boolean"){e[d]=f=new Ext.util.Event(h,d)}h.hasListeners[d]=(h.hasListeners[d]||0)+1;f.bubble=true}}}}},function(){var b=this,e=b.prototype,c=function(){},f=function(g){if(!g.HasListeners){var h=g.prototype;b.prepareClass(g,this);g.onExtended(function(i){b.prepareClass(i)});if(h.onClassMixedIn){Ext.override(g,{onClassMixedIn:function(i){f.call(this,i);this.callParent(arguments)}})}else{h.onClassMixedIn=function(i){f.call(this,i)}}}},a;c.prototype={};e.HasListeners=b.HasListeners=c;b.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});b.observeClass=b.observe;Ext.globalEvents=a=new b({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}});Ext.on=function(){return a.addListener.apply(a,arguments)};Ext.un=function(){return a.removeListener.apply(a,arguments)};function d(m){var l=(this.methodEvents=this.methodEvents||{})[m],i,h,j,k=this,g;if(!l){this.methodEvents[m]=l={};l.originalFn=this[m];l.methodName=m;l.before=[];l.after=[];g=function(p,o,n){if((h=p.apply(o||k,n))!==undefined){if(typeof h=="object"){if(h.returnValue!==undefined){i=h.returnValue}else{i=h}j=!!h.cancel}else{if(h===false){j=true}else{i=h}}}};this[m]=function(){var p=Array.prototype.slice.call(arguments,0),o,q,n;i=h=undefined;j=false;for(q=0,n=l.before.length;q<n;q++){o=l.before[q];g(o.fn,o.scope,p);if(j){return i}}if((h=l.originalFn.apply(k,p))!==undefined){i=h}for(q=0,n=l.after.length;q<n;q++){o=l.after[q];g(o.fn,o.scope,p);if(j){return i}}return i}}return l}Ext.apply(e,{onClassMixedIn:f,beforeMethod:function(i,h,g){d.call(this,i).before.push({fn:h,scope:g})},afterMethod:function(i,h,g){d.call(this,i).after.push({fn:h,scope:g})},removeMethodListener:function(m,k,j){var l=this.getMethodEvent(m),h,g;for(h=0,g=l.before.length;h<g;h++){if(l.before[h].fn==k&&l.before[h].scope==j){Ext.Array.erase(l.before,h,1);return}}for(h=0,g=l.after.length;h<g;h++){if(l.after[h].fn==k&&l.after[h].scope==j){Ext.Array.erase(l.after,h,1);return}}},toggleEventLogging:function(g){Ext.util.Observable[g?"capture":"releaseCapture"](this,function(h){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(h,arguments)}})}})});