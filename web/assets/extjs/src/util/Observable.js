Ext.define("Ext.util.Observable",function(a){var d=[],e=Array.prototype,f=e.slice,c=Ext.util.Event,b=function(g){if(g instanceof b){return g}this.observable=g;if(arguments[1].isObservable){this.managedListeners=true}this.args=f.call(arguments,1)};b.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)};return{requires:["Ext.util.Event","Ext.EventManager"],statics:{releaseCapture:function(g){g.fireEventArgs=this.prototype.fireEventArgs},capture:function(j,h,g){var i=function(k,l){return h.apply(g,[k].concat(l))};this.captureArgs(j,i,g)},captureArgs:function(i,h,g){i.fireEventArgs=Ext.Function.createInterceptor(i.fireEventArgs,h,g)},observe:function(g,h){if(g){if(!g.isObservable){Ext.applyIf(g,new this());this.captureArgs(g.prototype,g.fireEventArgs,g)}if(Ext.isObject(h)){g.on(h)}}return g},prepareClass:function(i,h){if(!i.HasListeners){var j=function(){},g=i.superclass.HasListeners||(h&&h.HasListeners)||a.HasListeners;i.prototype.HasListeners=i.HasListeners=j;j.prototype=i.hasListeners=new g()}}},isObservable:true,eventsSuspended:0,constructor:function(g){var h=this;Ext.apply(h,g);if(!h.hasListeners){h.hasListeners=new h.HasListeners()}h.events=h.events||{};if(h.listeners){h.on(h.listeners);h.listeners=null}if(h.bubbleEvents){h.enableBubble(h.bubbleEvents)}},onClassExtended:function(g){if(!g.HasListeners){a.prepareClass(g)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(n,j,l,o,p,i){var k=this,m=k.managedListeners=k.managedListeners||[],h,g;if(typeof j!=="string"){g=arguments.length>4?p:j;p=j;for(j in p){if(p.hasOwnProperty(j)){h=p[j];if(!k.eventOptionsRe.test(j)){k.addManagedListener(n,j,h.fn||h,h.scope||p.scope||o,h.fn?h:g,true)}}}if(p&&p.destroyable){return new b(k,n,p)}}else{if(typeof l==="string"){o=o||k;l=Ext.resolveMethod(l,o)}m.push({item:n,ename:j,fn:l,scope:o,options:p});n.on(j,l,o,p);if(!i&&p&&p.destroyable){return new b(k,n,j,l,o)}}},removeManagedListener:function(p,k,n,q){var m=this,r,h,o,g,l,j;if(typeof k!=="string"){r=k;for(k in r){if(r.hasOwnProperty(k)){h=r[k];if(!m.eventOptionsRe.test(k)){m.removeManagedListener(p,k,h.fn||h,h.scope||r.scope||q)}}}}else{o=m.managedListeners?m.managedListeners.slice():[];if(typeof n==="string"){q=q||m;n=Ext.resolveMethod(n,q)}for(l=0,g=o.length;l<g;l++){m.removeManagedListenerItem(false,o[l],p,k,n,q)}}},fireEvent:function(g){return this.fireEventArgs(g,f.call(arguments,1))},fireEventArgs:function(g,i){g=g.toLowerCase();var l=this,j=l.events,k=j&&j[g],h=true;if(k&&l.hasListeners[g]){h=l.continueFireEvent(g,i||d,k.bubble)}return h},continueFireEvent:function(i,k,h){var m=this,g,l,j=true;do{if(m.eventsSuspended){if((g=m.eventQueue)){g.push([i,k,h])}return j}else{l=m.events[i];if(l&&l!==true){if((j=l.fire.apply(l,k))===false){break}}}}while(h&&(m=m.getBubbleParent()));return j},getBubbleParent:function(){var h=this,g=h.getBubbleTarget&&h.getBubbleTarget();if(g&&g.isObservable){return g}return null},addListener:function(j,l,k,i){var n=this,h,m,g=0;if(typeof j!=="string"){i=j;for(j in i){if(i.hasOwnProperty(j)){h=i[j];if(!n.eventOptionsRe.test(j)){n.addListener(j,h.fn||h,h.scope||i.scope,h.fn?h:i)}}}if(i&&i.destroyable){return new b(n,i)}}else{j=j.toLowerCase();m=n.events[j];if(m&&m.isEvent){g=m.listeners.length}else{n.events[j]=m=new c(n,j)}if(!l){Ext.Error.raise("No function passed for event "+n.$className+"."+j)}if(typeof l==="string"){k=k||n;l=Ext.resolveMethod(l,k)}m.addListener(l,k,i);if(m.listeners.length!==g){n.hasListeners._incr_(j)}if(i&&i.destroyable){return new b(n,j,l,k,i)}}},removeListener:function(i,k,j){var m=this,h,l,g;if(typeof i!=="string"){g=i;for(i in g){if(g.hasOwnProperty(i)){h=g[i];if(!m.eventOptionsRe.test(i)){m.removeListener(i,h.fn||h,h.scope||g.scope)}}}}else{i=i.toLowerCase();l=m.events[i];if(l&&l.isEvent){if(typeof k==="string"){j=j||m;k=Ext.resolveMethod(k,j)}if(l.removeListener(k,j)){m.hasListeners._decr_(i)}}}},clearListeners:function(){var i=this.events,g=this.hasListeners,j,h;for(h in i){if(i.hasOwnProperty(h)){j=i[h];if(j.isEvent){delete g[h];j.clearListeners()}}}this.clearManagedListeners()},purgeListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners.")}return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var h=this.managedListeners||[],j=0,g=h.length;for(;j<g;j++){this.removeManagedListenerItem(true,h[j])}this.managedListeners=[]},removeManagedListenerItem:function(h,g,l,i,k,j){if(h||(g.item===l&&g.ename===i&&(!k||g.fn===k)&&(!j||g.scope===j))){g.item.un(g.ename,g.fn,g.scope);if(!h){Ext.Array.remove(this.managedListeners,g)}}},purgeManagedListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners.")}return this.clearManagedListeners.apply(this,arguments)},addEvents:function(m){var l=this,k=l.events||(l.events={}),g,h,j;if(typeof m=="string"){for(h=arguments,j=h.length;j--;){g=h[j];if(!k[g]){k[g]=true}}}else{Ext.applyIf(l.events,m)}},hasListener:function(g){return !!this.hasListeners[g.toLowerCase()]},suspendEvents:function(g){this.eventsSuspended+=1;if(g&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(h){var g=arguments.length,j,k;for(j=0;j<g;j++){k=this.events[arguments[j]];if(k&&k.suspend){k.suspend()}}},resumeEvent:function(){var g=arguments.length,h,j;for(h=0;h<g;h++){j=this.events[arguments[h]];if(j&&j.resume){j.resume()}}},resumeEvents:function(){var g=this,j=g.eventQueue,i,h;if(g.eventsSuspended&&!--g.eventsSuspended){delete g.eventQueue;if(j){i=j.length;for(h=0;h<i;h++){g.continueFireEvent.apply(g,j[h])}}}},relayEvents:function(h,k,n){var m=this,g=k.length,j=0,l,o={};for(;j<g;j++){l=k[j];o[l]=m.createRelayer(n?n+l:l)}m.mon(h,o,null,null,undefined);return new b(m,h,o)},createRelayer:function(g,h){var i=this;return function(){return i.fireEventArgs.call(i,g,h?f.apply(arguments,h):arguments)}},enableBubble:function(o){if(o){var m=this,n=(typeof o=="string")?arguments:o,l=n.length,j=m.events,h,k,g;for(g=0;g<l;++g){h=n[g].toLowerCase();k=j[h];if(!k||typeof k=="boolean"){j[h]=k=new c(m,h)}m.hasListeners._incr_(h);k.bubble=true}}}}},function(){var b=this,e=b.prototype,c=function(){},f=function(g){if(!g.HasListeners){var h=g.prototype;b.prepareClass(g,this);g.onExtended(function(i){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments);b.prepareClass(i)});if(h.onClassMixedIn){Ext.override(g,{onClassMixedIn:function(i){f.call(this,i);this.callParent(arguments)}})}else{h.onClassMixedIn=function(i){f.call(this,i)}}}},a;c.prototype={_decr_:function(g){if(!--this[g]){delete this[g]}},_incr_:function(g){if(this.hasOwnProperty(g)){++this[g]}else{this[g]=1}}};e.HasListeners=b.HasListeners=c;b.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});b.observeClass=b.observe;Ext.globalEvents=a=new b({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}});Ext.on=function(){return a.addListener.apply(a,arguments)};Ext.un=function(){return a.removeListener.apply(a,arguments)};function d(m){var l=(this.methodEvents=this.methodEvents||{})[m],i,h,j,k=this,g;if(!l){this.methodEvents[m]=l={};l.originalFn=this[m];l.methodName=m;l.before=[];l.after=[];g=function(p,o,n){if((h=p.apply(o||k,n))!==undefined){if(typeof h=="object"){if(h.returnValue!==undefined){i=h.returnValue}else{i=h}j=!!h.cancel}else{if(h===false){j=true}else{i=h}}}};this[m]=function(){var p=Array.prototype.slice.call(arguments,0),o,q,n;i=h=undefined;j=false;for(q=0,n=l.before.length;q<n;q++){o=l.before[q];g(o.fn,o.scope,p);if(j){return i}}if((h=l.originalFn.apply(k,p))!==undefined){i=h}for(q=0,n=l.after.length;q<n;q++){o=l.after[q];g(o.fn,o.scope,p);if(j){return i}}return i}}return l}Ext.apply(e,{onClassMixedIn:f,beforeMethod:function(i,h,g){d.call(this,i).before.push({fn:h,scope:g})},afterMethod:function(i,h,g){d.call(this,i).after.push({fn:h,scope:g})},removeMethodListener:function(m,k,j){var l=this.getMethodEvent(m),h,g;for(h=0,g=l.before.length;h<g;h++){if(l.before[h].fn==k&&l.before[h].scope==j){Ext.Array.erase(l.before,h,1);return}}for(h=0,g=l.after.length;h<g;h++){if(l.after[h].fn==k&&l.after[h].scope==j){Ext.Array.erase(l.after,h,1);return}}},toggleEventLogging:function(g){Ext.util.Observable[g?"capture":"releaseCapture"](this,function(h){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(h,arguments)}})}})});