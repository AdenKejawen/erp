(function(){Ext.ns("Ext.util");var f=Ext.util.Format={},c=/<\/?[^>]+>/gi,h=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,e=/\r?\n/g,b=/^#+$/,g=/[\d,\.#]+/,i=/[^\d\.#]/g,a,d={};Ext.apply(f,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:false,undef:function(j){return j!==undefined?j:""},defaultValue:function(k,j){return k!==undefined&&k!==""?k:j},substr:"ab".substr(-1)!="b"?function(k,m,j){var l=String(k);return(m<0)?l.substr(Math.max(l.length+m,0),j):l.substr(m,j)}:function(k,l,j){return String(k).substr(l,j)},lowercase:function(j){return String(j).toLowerCase()},uppercase:function(j){return String(j).toUpperCase()},usMoney:function(j){return f.currency(j,"$",2)},currency:function(l,n,k,j){var p="",o=",0",m=0;l=l-0;if(l<0){l=-l;p="-"}k=Ext.isDefined(k)?k:f.currencyPrecision;o+=(k>0?".":"");for(;m<k;m++){o+="0"}l=f.number(l,o);if((j||f.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}",p,l,n||f.currencySign)}else{return Ext.String.format("{0}{1}{2}",p,n||f.currencySign,l)}},date:function(j,k){if(!j){return""}if(!Ext.isDate(j)){j=new Date(Date.parse(j))}return Ext.Date.dateFormat(j,k||Ext.Date.defaultFormat)},dateRenderer:function(j){return function(k){return f.date(k,j)}},stripTags:function(j){return !j?j:String(j).replace(c,"")},stripScripts:function(j){return !j?j:String(j).replace(h,"")},fileSize:(function(){var j=1024,k=1048576,l=1073741824;return function(n){var m;if(n<j){if(n===1){m="1 byte"}else{m=n+" bytes"}}else{if(n<k){m=(Math.round(((n*10)/j))/10)+" KB"}else{if(n<l){m=(Math.round(((n*10)/k))/10)+" MB"}else{m=(Math.round(((n*10)/l))/10)+" GB"}}}return m}})(),math:(function(){var j={};return function(l,k){if(!j[k]){j[k]=Ext.functionFactory("v","return v "+k+";")}return j[k](l)}}()),round:function(l,k){var j=Number(l);if(typeof k=="number"){k=Math.pow(10,k);j=Math.round(l*k)/k}return j},number:function(r,m){if(!m){return r}var l=d[m];if(!l){var o=m,w=f.thousandSeparator,s=f.decimalSeparator,k,p,q,n=0,t,u,j;if(m.substr(m.length-2)=="/i"){if(!a){a=new RegExp("[^\\d\\"+f.decimalSeparator+"]","g")}m=m.substr(0,m.length-2);k=m.indexOf(w)!=-1;p=m.replace(a,"").split(s)}else{k=m.indexOf(",")!=-1;p=m.replace(i,"").split(".")}q=m.replace(g,"");if(p.length>2){Ext.Error.raise({sourceClass:"Ext.util.Format",sourceMethod:"number",value:r,formatString:m,msg:"Invalid number format, should have no more than 1 decimal"})}else{if(p.length===2){n=p[1].length;u=b.test(p[1])}}j=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,fnum,parts"+(k?",thousandSeparator,thousands=[],j,n,i":"")+(q?',formatString="'+m+'",formatPattern=/[\\d,\\.#]+/':"")+(u?",trailingZeroes=/\\.?0+$/;":";")+'return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"fnum=Ext.Number.toFixed(Math.abs(v), "+n+");"];if(k){if(n){j[j.length]='parts=fnum.split(".");';j[j.length]="fnum=parts[0];"}j[j.length]="if(v>=1000) {";j[j.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}";if(n){j[j.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else{if(n){j[j.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}if(u){j[j.length]='fnum=fnum.replace(trailingZeroes,"");'}j[j.length]='if(neg&&fnum!=="'+(n?"0."+Ext.String.repeat("0",n):"0")+'")fnum="-"+fnum;';j[j.length]="return ";if(q){j[j.length]="formatString.replace(formatPattern, fnum);"}else{j[j.length]="fnum;"}j[j.length]="};";l=d[o]=Ext.functionFactory("Ext",j.join(""))(Ext)}return l(r)},numberRenderer:function(j){return function(k){return f.number(k,j)}},attributes:function(k){if(typeof k==="object"){var j=[],l;for(l in k){j.push(l,'="',l==="style"?Ext.DomHelper.generateStyles(k[l]):Ext.htmlEncode(k[l]),'"')}k=j.join("")}return k||""},plural:function(j,k,l){return j+" "+(j==1?k:(l?l:k+"s"))},nl2br:function(j){return Ext.isEmpty(j)?"":j.replace(e,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(k){k=k||0;if(typeof k==="number"){return{top:k,right:k,bottom:k,left:k}}var l=k.split(" "),j=l.length;if(j==1){l[1]=l[2]=l[3]=l[0]}else{if(j==2){l[2]=l[0];l[3]=l[1]}else{if(j==3){l[3]=l[1]}}}return{top:parseInt(l[0],10)||0,right:parseInt(l[1],10)||0,bottom:parseInt(l[2],10)||0,left:parseInt(l[3],10)||0}},escapeRegex:function(j){return j.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})}());