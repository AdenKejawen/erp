Ext.define("Ext.util.CSS",function(){var c,e=null,d=document,b=/(-[a-z])/gi,a=function(f,g){return g.charAt(1).toUpperCase()};return{singleton:true,rules:e,initialized:false,constructor:function(){c=this},createStyleSheet:function(h,k){var g,f=d.getElementsByTagName("head")[0],j=d.createElement("style");j.setAttribute("type","text/css");if(k){j.setAttribute("id",k)}if(Ext.isIE){f.appendChild(j);g=j.styleSheet;g.cssText=h}else{try{j.appendChild(d.createTextNode(h))}catch(i){j.cssText=h}f.appendChild(j);g=j.styleSheet?j.styleSheet:(j.sheet||d.styleSheets[d.styleSheets.length-1])}c.cacheStyleSheet(g);return g},removeStyleSheet:function(g){var f=d.getElementById(g);if(f){f.parentNode.removeChild(f)}},swapStyleSheet:function(h,f){var g;c.removeStyleSheet(h);g=d.createElement("link");g.setAttribute("rel","stylesheet");g.setAttribute("type","text/css");g.setAttribute("id",h);g.setAttribute("href",f);d.getElementsByTagName("head")[0].appendChild(g)},refreshCache:function(){return c.getRules(true)},cacheStyleSheet:function(g){if(!e){e=c.rules={}}try{var j=g.cssRules||g.rules,f=j.length-1;for(;f>=0;--f){c.cacheRule(j[f],g)}}catch(h){}},cacheRule:function(g,k){var i=g.selectorText,h,f;if(i){i=i.split(",");h=i.length;for(f=0;f<h;f++){e[Ext.String.trim(i[f]).toLowerCase()]={parentStyleSheet:k,cssRule:g}}}},getRules:function(h){var g={},f;if(e===null||h){c.refreshCache()}for(f in e){g[f]=e[f].cssRule}return g},refreshCache:function(){var h=d.styleSheets,g=0,f=h.length;e=c.rules={};for(;g<f;g++){try{if(!h[g].disabled){c.cacheStyleSheet(h[g])}}catch(j){}}},getRule:function(f,h,g){var j;if(h){c.refreshCache()}if(!Ext.isArray(f)){return g?e[f.toLowerCase()]:e[f.toLowerCase()].cssRule}for(j=0;j<f.length;j++){if(e[f[j]]){return g?e[f[j].toLowerCase()]:e[f[j].toLowerCase()].cssRule}}return null},createRule:function(k,g,i){var f,j=k.cssRules||k.rules,h=j.length;if(k.insertRule){k.insertRule(g+"{"+i+"}",h)}else{k.addRule(g,i||" ")}c.cacheRule(f=j[h],k);return f},updateRule:function(f,k,j){var l,g,h;if(!Ext.isArray(f)){l=c.getRule(f);if(l){if(arguments.length==2){h=Ext.Element.parseStyles(k);for(k in h){l.style[k.replace(b,a)]=h[k]}}else{l.style[k.replace(b,a)]=j}return true}}else{for(g=0;g<f.length;g++){if(c.updateRule(f[g],k,j)){return true}}}return false},deleteRule:function(f){var h=c.getRule(f,false,true),i,g;if(h){i=h.parentStyleSheet;g=Ext.Array.indexOf(i.cssRules||i.rules,h.cssRule);if(i.deleteRule){i.deleteRule(g)}else{i.removeRule(g)}delete e[f]}}}});