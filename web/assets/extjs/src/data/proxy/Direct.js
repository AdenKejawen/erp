Ext.define("Ext.data.proxy.Direct",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",requires:["Ext.direct.Manager"],paramOrder:undefined,paramsAsHash:true,directFn:undefined,paramOrderRe:/[\s,|]/,constructor:function(b){var c=this,a;c.callParent(arguments);a=c.paramOrder;if(Ext.isString(a)){c.paramOrder=a.split(c.paramOrderRe)}},resolveMethods:function(){var d=this,c=d.directFn,b=d.api,a=Ext.direct.Manager,e;if(c){e=d.directFn=a.parseMethod(c);if(!Ext.isFunction(e)){Ext.Error.raise("Cannot resolve directFn "+c)}}else{if(b){for(c in b){if(b.hasOwnProperty(c)){e=b[c];b[c]=a.parseMethod(e);if(!Ext.isFunction(b[c])){Ext.Error.raise("Cannot resolve Direct api "+c+" method "+e)}}}}}d.methodsResolved=true},doRequest:function(d,i,j){var g=this,b=g.getWriter(),e=g.buildRequest(d),c=e.params,f=[],h,a;if(!g.methodsResolved){g.resolveMethods()}h=g.api[e.action]||g.directFn;if(!h){Ext.Error.raise("No direct function specified for this proxy")}if(d.allowWrite()){e=b.write(e)}if(d.action=="read"){a=h.directCfg.method;f=a.getArgs(c,g.paramOrder,g.paramsAsHash)}else{f.push(e.jsonData)}Ext.apply(e,{args:f,directFn:h});f.push(g.createRequestCallback(e,d,i,j),g);h.apply(window,f)},applyEncoding:Ext.identityFn,createRequestCallback:function(d,a,e,b){var c=this;return function(g,f){c.processResponse(f.status,a,d,f,e,b)}},extractResponseData:function(a){return Ext.isDefined(a.result)?a.result:a.data},setException:function(b,a){b.setException(a.message)},buildUrl:function(){return""}});