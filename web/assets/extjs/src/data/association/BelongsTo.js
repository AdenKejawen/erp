Ext.define("Ext.data.association.BelongsTo",{extend:"Ext.data.association.Association",alternateClassName:"Ext.data.BelongsToAssociation",alias:"association.belongsto",constructor:function(c){this.callParent(arguments);var e=this,a=e.ownerModel.prototype,f=e.associatedName,d=e.getterName||"get"+f,b=e.setterName||"set"+f;Ext.applyIf(e,{name:f,foreignKey:f.toLowerCase()+"_id",instanceName:f+"BelongsToInstance",associationKey:f.toLowerCase()});a[d]=e.createGetter();a[b]=e.createSetter()},createSetter:function(){var c=this,b=c.foreignKey,a=c.instanceName;return function(g,e,f){var h=g&&g.isModel,d=h?g.getId():g;if(h){this[a]=g}else{if(this[a] instanceof Ext.data.Model&&!this.isEqual(this.get(b),d)){delete this[a]}}this.set(b,d);if(Ext.isFunction(e)){e={callback:e,scope:f||this}}if(Ext.isObject(e)){return this.save(e)}}},createGetter:function(){var d=this,e=d.associatedName,f=d.associatedModel,c=d.foreignKey,b=d.primaryKey,a=d.instanceName;return function(j,k){j=j||{};var i=this,l=i.get(c),m,g,h;if(j.reload===true||i[a]===undefined){g=Ext.ModelManager.create({},e);g.set(b,l);if(typeof j=="function"){j={callback:j,scope:k||i}}m=j.success;j.success=function(n){i[a]=n;if(m){m.apply(this,arguments)}};f.load(l,j);i[a]=g;return g}else{g=i[a];h=[g];k=k||j.scope||i;Ext.callback(j,k,h);Ext.callback(j.success,k,h);Ext.callback(j.failure,k,h);Ext.callback(j.callback,k,h);return g}}},read:function(b,a,c){b[this.instanceName]=a.read([c]).records[0]}});