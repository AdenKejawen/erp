Ext.EventManager=new function(){var b=this,g=document,f=window,e=/\\/g,c=Ext.baseCSSPrefix,a=!Ext.isIE9&&"addEventListener" in g,h,d=function(){var n=g.body||g.getElementsByTagName("body")[0],j=[c+"body"],i=[],k=Ext.supports.CSS3LinearGradient,m=Ext.supports.CSS3BorderRadius,l;if(!n){return false}l=n.parentNode;function o(p){j.push(c+p)}if(Ext.isIE&&Ext.isIE9m){o("ie");if(Ext.isIE6){o("ie6")}else{o("ie7p");if(Ext.isIE7){o("ie7")}else{o("ie8p");if(Ext.isIE8){o("ie8")}else{o("ie9p");if(Ext.isIE9){o("ie9")}}}}if(Ext.isIE7m){o("ie7m")}if(Ext.isIE8m){o("ie8m")}if(Ext.isIE9m){o("ie9m")}if(Ext.isIE7||Ext.isIE8){o("ie78")}}if(Ext.isIE10){o("ie10")}if(Ext.isGecko){o("gecko");if(Ext.isGecko3){o("gecko3")}if(Ext.isGecko4){o("gecko4")}if(Ext.isGecko5){o("gecko5")}}if(Ext.isOpera){o("opera")}if(Ext.isWebKit){o("webkit")}if(Ext.isSafari){o("safari");if(Ext.isSafari2){o("safari2")}if(Ext.isSafari3){o("safari3")}if(Ext.isSafari4){o("safari4")}if(Ext.isSafari5){o("safari5")}if(Ext.isSafari5_0){o("safari5_0")}}if(Ext.isChrome){o("chrome")}if(Ext.isMac){o("mac")}if(Ext.isLinux){o("linux")}if(!m){o("nbr")}if(!k){o("nlg")}if(l){if(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)){Ext.isBorderBox=false}else{Ext.isBorderBox=true}if(!Ext.isBorderBox){i.push(c+"content-box")}if(Ext.isStrict){i.push(c+"strict")}else{i.push(c+"quirks")}Ext.fly(l,"_internal").addCls(i)}Ext.fly(n,"_internal").addCls(j);return true};Ext.apply(b,{hasBoundOnReady:false,hasFiredReady:false,deferReadyEvent:1,onReadyChain:[],readyEvent:(function(){h=new Ext.util.Event();h.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||new Date().getTime();h.self.prototype.fire.apply(h,arguments);Ext._afterReadytime=new Date().getTime()};return h}()),idleEvent:new Ext.util.Event(),isReadyPaused:function(){return(/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady)},bindReadyEvent:function(){if(b.hasBoundOnReady){return}if(g.readyState=="complete"){b.onReadyEvent({type:g.readyState||"body"})}else{g.addEventListener("DOMContentLoaded",b.onReadyEvent,false);f.addEventListener("load",b.onReadyEvent,false);b.hasBoundOnReady=true}},onReadyEvent:function(i){if(i&&i.type){b.onReadyChain.push(i.type)}if(b.hasBoundOnReady){g.removeEventListener("DOMContentLoaded",b.onReadyEvent,false);f.removeEventListener("load",b.onReadyEvent,false)}if(!Ext.isReady){b.fireDocReady()}},fireDocReady:function(){if(!Ext.isReady){Ext._readyTime=new Date().getTime();Ext.isReady=true;Ext.supports.init();b.onWindowUnload();h.onReadyChain=b.onReadyChain;if(Ext.isNumber(b.deferReadyEvent)){Ext.Function.defer(b.fireReadyEvent,b.deferReadyEvent);b.hasDocReadyTimer=true}else{b.fireReadyEvent()}}},fireReadyEvent:function(){b.hasDocReadyTimer=false;b.isFiring=true;while(h.listeners.length&&!b.isReadyPaused()){h.fire()}b.isFiring=false;b.hasFiredReady=true;Ext.EventManager.idleEvent.fire()},onDocumentReady:function(k,j,i){i=i||{};i.single=true;h.addListener(k,j,i);if(!(b.isFiring||b.hasDocReadyTimer)){if(Ext.isReady){b.fireReadyEvent()}else{b.bindReadyEvent()}}},stoppedMouseDownEvent:new Ext.util.Event(),propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(i){var j;i=Ext.getDom(i);if(i===g||i===f){j=i===g?Ext.documentId:Ext.windowId}else{j=Ext.id(i)}if(!Ext.cache[j]){Ext.addCacheEntry(j,null,i)}return j},prepareListenerConfig:function(l,j,n){var o=b.propRe,k,m,i;for(k in j){if(j.hasOwnProperty(k)){if(!o.test(k)){m=j[k];if(typeof m=="function"){i=[l,k,m,j.scope,j]}else{i=[l,k,m.fn,m.scope,m]}if(n){b.removeListener.apply(b,i)}else{b.addListener.apply(b,i)}}}}},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(i,j){if(b.mouseEnterLeaveRe.test(i)&&!Ext.supports.MouseEnterLeave){if(j){j=Ext.Function.createInterceptor(j,b.contains)}i=i=="mouseenter"?"mouseover":"mouseout"}else{if(i=="mousewheel"&&!Ext.supports.MouseWheel&&!Ext.isOpera){i="DOMMouseScroll"}}return{eventName:i,fn:j}},contains:function(j){j=j.browserEvent||j;var i=j.currentTarget,k=b.getRelatedTarget(j);if(i&&i.firstChild){while(k){if(k===i){return false}k=k.parentNode;if(k&&(k.nodeType!=1)){k=null}}}return true},addListener:function(m,o,r,t,u){if(typeof o!=="string"){b.prepareListenerConfig(m,o);return}var l=m.dom||Ext.getDom(m),p,q,k,i,j,n,s;if(typeof r==="string"){r=Ext.resolveMethod(r,t||m)}if(!r){Ext.Error.raise({sourceClass:"Ext.EventManager",sourceMethod:"addListener",targetElement:m,eventName:o,msg:'Error adding "'+o+'" listener. The handler function is undefined.'})}u=u||{};q=b.normalizeEvent(o,r);k=b.createListenerWrap(l,o,q.fn,t,u);i=b.getEventListenerCache(m.dom?m:l,o);o=q.eventName;p=a||(Ext.isIE9&&!l.attachEvent);if(!p){j=b.normalizeId(l);if(j){n=Ext.cache[j][o];if(n&&n.firing){i=b.cloneEventListenerCache(l,o)}}}s=!!u.capture;i.push({fn:r,wrap:k,scope:t,capture:s});if(!p){if(i.length===1){j=b.normalizeId(l,true);r=Ext.Function.bind(b.handleSingleEvent,b,[j,o],true);Ext.cache[j][o]={firing:false,fn:r};l.attachEvent("on"+o,r)}}else{l.addEventListener(o,k,s)}if(l==g&&o=="mousedown"){b.stoppedMouseDownEvent.addListener(k)}},normalizeId:function(j,i){var k;if(j===document){k=Ext.documentId}else{if(j===window){k=Ext.windowId}else{k=j.id}}if(!k&&i){k=b.getId(j)}return k},handleSingleEvent:function(o,p,l){var m=b.getEventListenerCache(p,l),k=Ext.cache[p][l],j,n;if(k.firing){return}k.firing=true;for(n=0,j=m.length;n<j;++n){m[n].wrap(o)}k.firing=false},removeListener:function(t,v,w,y){if(typeof v!=="string"){b.prepareListenerConfig(t,v,true);return}var r=Ext.getDom(t),m,n=t.dom?t:Ext.get(r),k=b.getEventListenerCache(n,v),x=b.normalizeEvent(v).eventName,s=k.length,q,u,p,o,l;if(!r){return}p=a||(Ext.isIE9&&!r.detachEvent);if(typeof w==="string"){w=Ext.resolveMethod(w,y||t)}while(s--){o=k[s];if(o&&(!w||o.fn==w)&&(!y||o.scope===y)){l=o.wrap;if(l.task){clearTimeout(l.task);delete l.task}q=l.tasks&&l.tasks.length;if(q){while(q--){clearTimeout(l.tasks[q])}delete l.tasks}if(!p){m=b.normalizeId(r,true);u=Ext.cache[m][x];if(u&&u.firing){k=b.cloneEventListenerCache(r,x)}if(k.length===1){w=u.fn;delete Ext.cache[m][x];r.detachEvent("on"+x,w)}}else{r.removeEventListener(x,l,o.capture)}if(l&&r==g&&v=="mousedown"){b.stoppedMouseDownEvent.removeListener(l)}Ext.Array.erase(k,s,1)}}},removeAll:function(l){var m=(typeof l==="string")?l:l.id,j,k,i;if(m&&(j=Ext.cache[m])){k=j.events;for(i in k){if(k.hasOwnProperty(i)){b.removeListener(l,i)}}j.events={}}},purgeElement:function(m,k){var o=Ext.getDom(m),l=0,j,n;if(k){b.removeListener(m,k)}else{b.removeAll(m)}if(o&&o.childNodes){n=o.childNodes;for(j=n.length;l<j;l++){b.purgeElement(n[l],k)}}},createListenerWrap:function(p,j,m,l,i){i=i||{};var n,o,k=function(r,q){if(!o){n=["if(!"+Ext.name+") {return;}"];if(i.buffer||i.delay||i.freezeEvent){if(i.freezeEvent){n.push("e = X.EventObject.setEvent(e);")}n.push("e = new X.EventObjectImpl(e, "+(i.freezeEvent?"true":"false")+");")}else{n.push("e = X.EventObject.setEvent(e);")}if(i.delegate){n.push('var result, t = e.getTarget("'+(i.delegate+"").replace(e,"\\\\")+'", this);');n.push("if(!t) {return;}")}else{n.push("var t = e.target, result;")}if(i.target){n.push("if(e.target !== options.target) {return;}")}if(i.stopEvent){n.push("e.stopEvent();")}else{if(i.preventDefault){n.push("e.preventDefault();")}if(i.stopPropagation){n.push("e.stopPropagation();")}}if(i.normalized===false){n.push("e = e.browserEvent;")}if(i.buffer){n.push("(wrap.task && clearTimeout(wrap.task));");n.push("wrap.task = setTimeout(function() {")}if(i.delay){n.push("wrap.tasks = wrap.tasks || [];");n.push("wrap.tasks.push(setTimeout(function() {")}n.push("result = fn.call(scope || dom, e, t, options);");if(i.single){n.push("evtMgr.removeListener(dom, ename, fn, scope);")}if(j!=="mousemove"&&j!=="unload"){n.push("if (evtMgr.idleEvent.listeners.length) {");n.push("evtMgr.idleEvent.fire();");n.push("}")}if(i.delay){n.push("}, "+i.delay+"));")}if(i.buffer){n.push("}, "+i.buffer+");")}n.push("return result;");o=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",n.join("\n"))}return o.call(p,r,i,m,l,j,p,k,q,Ext,b)};return k},getEventCache:function(k){var j,i,l;if(!k){return[]}if(k.$cache){j=k.$cache}else{if(typeof k==="string"){l=k}else{l=b.getId(k)}j=Ext.cache[l]}i=j.events||(j.events={});return i},getEventListenerCache:function(k,i){var j=b.getEventCache(k);return j[i]||(j[i]=[])},cloneEventListenerCache:function(l,i){var k=b.getEventCache(l),j;if(k[i]){j=k[i].slice(0)}else{j=[]}k[i]=j;return j},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(i){b.stopPropagation(i);b.preventDefault(i)},stopPropagation:function(i){i=i.browserEvent||i;if(i.stopPropagation){i.stopPropagation()}else{i.cancelBubble=true}},preventDefault:function(i){i=i.browserEvent||i;if(i.preventDefault){i.preventDefault()}else{i.returnValue=false;try{if(i.ctrlKey||i.keyCode>111&&i.keyCode<124){i.keyCode=-1}}catch(j){}}},getRelatedTarget:function(i){i=i.browserEvent||i;var j=i.relatedTarget;if(!j){if(b.mouseLeaveRe.test(i.type)){j=i.toElement}else{if(b.mouseEnterRe.test(i.type)){j=i.fromElement}}}return b.resolveTextNode(j)},getPageX:function(i){return b.getPageXY(i)[0]},getPageY:function(i){return b.getPageXY(i)[1]},getPageXY:function(k){k=k.browserEvent||k;var j=k.pageX,m=k.pageY,l=g.documentElement,i=g.body;if(!j&&j!==0){j=k.clientX+(l&&l.scrollLeft||i&&i.scrollLeft||0)-(l&&l.clientLeft||i&&i.clientLeft||0);m=k.clientY+(l&&l.scrollTop||i&&i.scrollTop||0)-(l&&l.clientTop||i&&i.clientTop||0)}return[j,m]},getTarget:function(i){i=i.browserEvent||i;return b.resolveTextNode(i.target||i.srcElement)},resolveTextNode:Ext.isGecko?function(j){if(j){var i=HTMLElement.prototype.toString.call(j);if(i!=="[xpconnect wrapped native prototype]"&&i!=="[object XULElement]"){return j.nodeType==3?j.parentNode:j}}}:function(i){return i&&i.nodeType==3?i.parentNode:i},curWidth:0,curHeight:0,onWindowResize:function(l,k,j){var i=b.resizeEvent;if(!i){b.resizeEvent=i=new Ext.util.Event();b.on(f,"resize",b.fireResize,null,{buffer:100})}i.addListener(l,k,j)},fireResize:function(){var i=Ext.Element.getViewWidth(),j=Ext.Element.getViewHeight();if(b.curHeight!=j||b.curWidth!=i){b.curHeight=j;b.curWidth=i;b.resizeEvent.fire(i,j)}},removeResizeListener:function(k,j){var i=b.resizeEvent;if(i){i.removeListener(k,j)}},onWindowUnload:function(l,k,j){var i=b.unloadEvent;if(!i){b.unloadEvent=i=new Ext.util.Event();b.addListener(f,"unload",b.fireUnload)}if(l){i.addListener(l,k,j)}},fireUnload:function(){try{g=f=undefined;var o,k,m,l,j;b.unloadEvent.fire();if(Ext.isGecko3){o=Ext.ComponentQuery.query("gridview");k=0;m=o.length;for(;k<m;k++){o[k].scrollToTop()}}j=Ext.cache;for(l in j){if(j.hasOwnProperty(l)){b.removeAll(l)}}}catch(n){}},removeUnloadListener:function(k,j){var i=b.unloadEvent;if(i){i.removeListener(k,j)}},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!((Ext.isGecko&&!Ext.isWindows)||Ext.isOpera),getKeyEvent:function(){return b.useKeyDown?"keydown":"keypress"}});if(!a&&document.attachEvent){Ext.apply(b,{pollScroll:function(){var i=true;try{document.documentElement.doScroll("left")}catch(j){i=false}if(i&&document.body){b.onReadyEvent({type:"doScroll"})}else{b.scrollTimeout=setTimeout(b.pollScroll,20)}return i},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var i=document.readyState;if(b.readyStatesRe.test(i)){b.onReadyEvent({type:i})}},bindReadyEvent:function(){var i=true;if(b.hasBoundOnReady){return}try{i=window.frameElement===undefined}catch(j){i=false}if(!i||!g.documentElement.doScroll){b.pollScroll=Ext.emptyFn}if(b.pollScroll()===true){return}if(g.readyState=="complete"){b.onReadyEvent({type:"already "+(g.readyState||"body")})}else{g.attachEvent("onreadystatechange",b.checkReadyState);window.attachEvent("onload",b.onReadyEvent);b.hasBoundOnReady=true}},onReadyEvent:function(i){if(i&&i.type){b.onReadyChain.push(i.type)}if(b.hasBoundOnReady){document.detachEvent("onreadystatechange",b.checkReadyState);window.detachEvent("onload",b.onReadyEvent)}if(Ext.isNumber(b.scrollTimeout)){clearTimeout(b.scrollTimeout);delete b.scrollTimeout}if(!Ext.isReady){b.fireDocReady()}},onReadyChain:[]})}Ext.onReady=function(k,j,i){Ext.Loader.onReady(k,j,true,i)};Ext.onDocumentReady=b.onDocumentReady;b.on=b.addListener;b.un=b.removeListener;Ext.onReady(d)};