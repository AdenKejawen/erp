Ext.define("Ext.dom.Element",function(a){var b="hidden",f=document,i="visibility",c="display",j="none",e=Ext.baseCSSPrefix+"masked",k=Ext.baseCSSPrefix+"masked-relative",h=Ext.baseCSSPrefix+"mask-msg",l=/^body/i,g,d=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},m=function(s){var q=[],n=-1,p,o;for(p=0;o=s[p];p++){if(o.scrollTop>0||o.scrollLeft>0){q[++n]=o}}return q};return{extend:"Ext.dom.AbstractElement",alternateClassName:["Ext.Element","Ext.core.Element"],requires:["Ext.dom.Query","Ext.dom.Element_anim","Ext.dom.Element_dd","Ext.dom.Element_fx","Ext.dom.Element_position","Ext.dom.Element_scroll","Ext.dom.Element_style"],tableTagRe:/^(?:tr|td|table|tbody)$/i,mixins:["Ext.util.Positionable"],addUnits:function(){return a.addUnits.apply(a,arguments)},focus:function(q,p){var n=this;p=p||n.dom;try{if(Number(q)){Ext.defer(n.focus,q,n,[null,p])}else{p.focus()}}catch(o){}return n},blur:function(){var n=this,p=n.dom;if(p!==document.body){try{p.blur()}catch(o){}return n}else{return n.focus(undefined,p)}},isBorderBox:function(){var n=Ext.isBorderBox;if(n&&Ext.isIE7m){n=!((this.dom.tagName||"").toLowerCase() in d)}return n},hover:function(o,n,q,p){var r=this;r.on("mouseenter",o,q||r.dom,p);r.on("mouseleave",n,q||r.dom,p);return r},getAttributeNS:function(o,n){return this.getAttribute(n,o)},getAttribute:(Ext.isIE&&!(Ext.isIE9p&&f.documentMode>=9))?function(n,p){var q=this.dom,o;if(p){o=typeof q[p+":"+n];if(o!="undefined"&&o!="unknown"){return q[p+":"+n]||null}return null}if(n==="for"){n="htmlFor"}return q[n]||null}:function(n,o){var p=this.dom;if(o){return p.getAttributeNS(o,n)||p.getAttribute(o+":"+n)}return p.getAttribute(n)||p[n]||null},cacheScrollValues:function(){var r=this,q,p,o,s=[],n=function(){for(o=0;o<q.length;o++){p=q[o];p.scrollLeft=s[o][0];p.scrollTop=s[o][1]}};if(!Ext.DomQuery.pseudos.isScrolled){Ext.DomQuery.pseudos.isScrolled=m}q=r.query(":isScrolled");for(o=0;o<q.length;o++){p=q[o];s[o]=[p.scrollLeft,p.scrollTop]}return n},autoBoxAdjust:true,isVisible:function(n){var p=this,q=p.dom,o=q.ownerDocument.documentElement;if(!g){g=new a.Fly()}while(q!==o){if(!q||q.nodeType===11||(g.attach(q)).isStyle(i,b)||g.isStyle(c,j)){return false}if(!n){break}q=q.parentNode}return true},isDisplayed:function(){return !this.isStyle(c,j)},enableDisplayMode:function(o){var n=this;n.setVisibilityMode(a.DISPLAY);if(!Ext.isEmpty(o)){(n.$cache||n.getCache()).data.originalDisplay=o}return n},mask:function(n,x,u){var z=this,q=z.dom,r=q.style.setExpression,t=(z.$cache||z.getCache()).data,p=t.maskShimEl,w=t.maskEl,o=t.maskMsg,s,v;if(!(l.test(q.tagName)&&z.getStyle("position")=="static")){z.addCls(k)}if(w){w.remove()}if(o){o.remove()}if(p){p.remove()}if(Ext.isIE6){p=Ext.DomHelper.append(q,{tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"},true);t.maskShimEl=p;p.setDisplayed(true)}Ext.DomHelper.append(q,[{cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{cls:x?h+" "+x:h,cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-text",html:n||""}}}]);o=Ext.get(q.lastChild);w=Ext.get(o.dom.previousSibling);t.maskMsg=o;t.maskEl=w;z.addCls(e);w.setDisplayed(true);if(typeof n=="string"){o.setDisplayed(true);o.center(z)}else{o.setDisplayed(false)}if(!Ext.supports.IncludePaddingInWidthCalculation&&r){try{w.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"');s='this.parentNode.clientWidth + "px"';if(p){p.dom.style.setExpression("width",s)}w.dom.style.setExpression("width",s)}catch(y){}}if(!Ext.supports.IncludePaddingInHeightCalculation&&r){try{v="this.parentNode."+(q==f.body?"scrollHeight":"offsetHeight")+' + "px"';if(p){p.dom.style.setExpression("height",v)}w.dom.style.setExpression("height",v)}catch(y){}}else{if(Ext.isIE9m&&!(Ext.isIE7&&Ext.isStrict)&&z.getStyle("height")=="auto"){if(p){p.setSize(undefined,u||z.getHeight())}w.setSize(undefined,u||z.getHeight())}}return w},unmask:function(){var r=this,s=(r.$cache||r.getCache()).data,q=s.maskEl,o=s.maskShimEl,n=s.maskMsg,p;if(q){p=q.dom.style;if(p.clearExpression){p.clearExpression("width");p.clearExpression("height")}if(q){q.remove();delete s.maskEl}if(n){n.remove();delete s.maskMsg}r.removeCls([e,k]);if(o){p=o.dom.style;if(p.clearExpression){p.clearExpression("width");p.clearExpression("height")}o.remove();delete s.maskShimEl}}},isMasked:function(){var p=this,r=(p.$cache||p.getCache()).data,o=r.maskEl,n=r.maskMsg,q=false;if(o&&o.isVisible()){if(n){n.center(p)}q=true}return q},createShim:function(){var n=f.createElement("iframe"),o;n.frameBorder="0";n.className=Ext.baseCSSPrefix+"shim";n.src=Ext.SSL_SECURE_URL;o=Ext.get(this.dom.parentNode.insertBefore(n,this.dom));o.autoBoxAdjust=false;return o},addKeyListener:function(o,q,p){var n;if(typeof o!="object"||Ext.isArray(o)){n={target:this,key:o,fn:q,scope:p}}else{n={target:this,key:o.key,shift:o.shift,ctrl:o.ctrl,alt:o.alt,fn:q,scope:p}}return new Ext.util.KeyMap(n)},addKeyMap:function(n){return new Ext.util.KeyMap(Ext.apply({target:this},n))},on:function(n,q,p,o){Ext.EventManager.on(this,n,q,p||this,o);return this},un:function(n,p,o){Ext.EventManager.un(this,n,p,o||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this);return this},select:function(n){return a.select(n,false,this.dom)}}},function(){var DOC=document,EC=Ext.cache,Element=this,AbstractElement=Ext.dom.AbstractElement,focusRe=/^a|button|embed|iframe|input|object|select|textarea$/i,nonSpaceRe=/\S/,scriptTagRe=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,replaceScriptTagRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,useDocForId=!Ext.isIE8m,internalFly;Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';function garbageCollect(){if(!Ext.enableGarbageCollector){clearInterval(Element.collectorThreadId)}else{var eid,d,o,t;for(eid in EC){if(!EC.hasOwnProperty(eid)){continue}o=EC[eid];if(o.skipGarbageCollection){continue}d=o.dom;if(!d){Ext.Error.raise("Missing DOM node in element garbage collection: "+eid)}if(d&&(d.getElementById||d.navigator)){Ext.Error.raise("Unexpected document or window element in element garbage collection")}if(d&&(!d.parentNode||(!d.offsetParent&&!Ext.getElementById(eid)))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(d)}delete EC[eid]}}if(Ext.isIE){t={};for(eid in EC){if(!EC.hasOwnProperty(eid)){continue}t[eid]=EC[eid]}EC=Ext.cache=t}}}Element.collectorThreadId=setInterval(garbageCollect,30000);Element.addMethods({monitorMouseLeave:function(delay,handler,scope){var me=this,timer,listeners={mouseleave:function(e){timer=setTimeout(Ext.Function.bind(handler,scope||me,[e]),delay)},mouseenter:function(){clearTimeout(timer)},freezeEvent:true};me.on(listeners);return listeners},swallowEvent:function(eventName,preventDefault){var me=this,e,eLen,fn=function(e){e.stopPropagation();if(preventDefault){e.preventDefault()}};if(Ext.isArray(eventName)){eLen=eventName.length;for(e=0;e<eLen;e++){me.on(eventName[e],fn)}return me}me.on(eventName,fn);return me},relayEvent:function(eventName,observable){this.on(eventName,function(e){observable.fireEvent(eventName,e)})},clean:function(forceReclean){var me=this,dom=me.dom,data=(me.$cache||me.getCache()).data,n=dom.firstChild,ni=-1,nx;if(data.isCleaned&&forceReclean!==true){return me}while(n){nx=n.nextSibling;if(n.nodeType==3){if(!(nonSpaceRe.test(n.nodeValue))){dom.removeChild(n)}else{if(nx&&nx.nodeType==3){n.appendData(Ext.String.trim(nx.data));dom.removeChild(nx);nx=n.nextSibling;n.nodeIndex=++ni}}}else{internalFly.attach(n).clean();n.nodeIndex=++ni}n=nx}data.isCleaned=true;return me},load:function(options){this.getLoader().load(options);return this},getLoader:function(){var me=this,data=(me.$cache||me.getCache()).data,loader=data.loader;if(!loader){data.loader=loader=new Ext.ElementLoader({target:me})}return loader},syncContent:function(source){source=Ext.getDom(source);var sourceNodes=source.childNodes,sourceLen=sourceNodes.length,dest=this.dom,destNodes=dest.childNodes,destLen=destNodes.length,i,destNode,sourceNode,nodeType,newAttrs,attLen,attName;if(Ext.isIE9m&&dest.mergeAttributes){dest.mergeAttributes(source,true);dest.src=source.src}else{newAttrs=source.attributes;attLen=newAttrs.length;for(i=0;i<attLen;i++){attName=newAttrs[i].name;if(attName!=="id"){dest.setAttribute(attName,newAttrs[i].value)}}}if(sourceLen!==destLen){dest.innerHTML=source.innerHTML;return}for(i=0;i<sourceLen;i++){sourceNode=sourceNodes[i];destNode=destNodes[i];nodeType=sourceNode.nodeType;if(nodeType!==destNode.nodeType||(nodeType===1&&sourceNode.tagName!==destNode.tagName)){dest.innerHTML=source.innerHTML;return}if(nodeType===3){destNode.data=sourceNode.data}else{if(sourceNode.id&&destNode.id!==sourceNode.id){destNode.id=sourceNode.id}destNode.style.cssText=sourceNode.style.cssText;destNode.className=sourceNode.className;internalFly.attach(destNode).syncContent(sourceNode)}}},update:function(html,loadScripts,callback){var me=this,id,dom,interval;if(!me.dom){return me}html=html||"";dom=me.dom;if(loadScripts!==true){dom.innerHTML=html;Ext.callback(callback,me);return me}id=Ext.id();html+='<span id="'+id+'"></span>';interval=setInterval(function(){var hd,match,attrs,srcMatch,typeMatch,el,s;if(!(el=DOC.getElementById(id))){return false}clearInterval(interval);Ext.removeNode(el);hd=Ext.getHead().dom;while((match=scriptTagRe.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window.eval(match[2])}}}}Ext.callback(callback,me)},20);dom.innerHTML=html.replace(replaceScriptTagRe,"");return me},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(config,renderTo,matchBox){config=(typeof config=="object")?config:{tag:"div",cls:config};var me=this,proxy=renderTo?Ext.DomHelper.append(renderTo,config,true):Ext.DomHelper.insertBefore(me.dom,config,true);proxy.setVisibilityMode(Element.DISPLAY);proxy.hide();if(matchBox&&me.setBox&&me.getBox){proxy.setBox(me.getBox())}return proxy},needsTabIndex:function(){if(this.dom){if((this.dom.nodeName==="a")&&(!this.dom.href)){return true}return !focusRe.test(this.dom.nodeName)}},isFocusable:function(asFocusEl){var dom=this.dom,tabIndexAttr=dom.getAttributeNode("tabIndex"),tabIndex,nodeName=dom.nodeName,canFocus=false;if(tabIndexAttr&&tabIndexAttr.specified){tabIndex=tabIndexAttr.value}if(dom&&!dom.disabled){if(tabIndex==-1){canFocus=Ext.FocusManager&&Ext.FocusManager.enabled&&asFocusEl}else{if(focusRe.test(nodeName)){if((nodeName!=="a")||dom.href){canFocus=true}}else{canFocus=tabIndex!=null&&tabIndex>=0}}canFocus=canFocus&&this.isVisible(true)}return canFocus}});if(Ext.isIE){Element.prototype.getById=function(id,asDom){var dom=this.dom,cacheItem,el,ret;if(dom){el=(useDocForId&&DOC.getElementById(id))||dom.all[id];if(el){if(asDom){ret=el}else{cacheItem=EC[id];if(cacheItem&&cacheItem.el){ret=Ext.updateCacheEntry(cacheItem,el).el}else{ret=new Element(el)}}return ret}}return asDom?Ext.getDom(id):Element.get(id)}}Element.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners",focusable:"isFocusable"});Element.Fly=AbstractElement.Fly=new Ext.Class({extend:Element,isFly:true,constructor:function(dom){this.dom=dom;this.el=this},attach:AbstractElement.Fly.prototype.attach});internalFly=new Element.Fly();if(Ext.isIE){Ext.getElementById=function(id){var el=DOC.getElementById(id),detachedBodyEl;if(!el&&(detachedBodyEl=AbstractElement.detachedBodyEl)){el=detachedBodyEl.dom.all[id]}return el}}else{if(!DOC.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(id){return DOC.getElementById(id)}}}});