Ext.define("Ext.dom.AbstractElement_insertion",{override:"Ext.dom.AbstractElement",appendChild:function(d,c){var f=this,h,b,g,a;if(d.nodeType||d.dom||typeof d=="string"){d=Ext.getDom(d);f.dom.appendChild(d);return !c?Ext.get(d):d}else{if(d.length){h=Ext.fly(document.createDocumentFragment(),"_internal");b=d.length;Ext.DomHelper.useDom=true;for(g=0;g<b;g++){h.appendChild(d[g],c)}Ext.DomHelper.useDom=a;f.dom.appendChild(h.dom);return c?h.dom:h}else{return f.createChild(d,null,c)}}},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(b,a){b=b||{};if(b.nodeType||b.dom||typeof b=="string"){b=Ext.getDom(b);this.dom.insertBefore(b,this.dom.firstChild);return !a?Ext.get(b):b}else{return this.createChild(b,this.dom.firstChild,a)}},insertSibling:function(b,f,i){var h=this,j=Ext.core.DomHelper,k=j.useDom,l=(f||"before").toLowerCase()=="after",d,a,c,g;if(Ext.isArray(b)){a=Ext.fly(document.createDocumentFragment(),"_internal");c=b.length;j.useDom=true;for(g=0;g<c;g++){d=a.appendChild(b[g],i)}j.useDom=k;h.dom.parentNode.insertBefore(a.dom,l?h.dom.nextSibling:h.dom);return d}b=b||{};if(b.nodeType||b.dom){d=h.dom.parentNode.insertBefore(Ext.getDom(b),l?h.dom.nextSibling:h.dom);if(!i){d=Ext.get(d)}}else{if(l&&!h.dom.nextSibling){d=j.append(h.dom.parentNode,b,!i)}else{d=j[l?"insertAfter":"insertBefore"](h.dom,b,!i)}}return d},replace:function(a){a=Ext.get(a);this.insertBefore(a);a.remove();return this},replaceWith:function(a){var b=this;if(a.nodeType||a.dom||typeof a=="string"){a=Ext.get(a);b.dom.parentNode.insertBefore(a.dom,b.dom)}else{a=Ext.core.DomHelper.insertBefore(b.dom,a)}delete Ext.cache[b.id];Ext.removeNode(b.dom);b.id=Ext.id(b.dom=a);Ext.dom.AbstractElement.addToCache(b.isFlyweight?new Ext.dom.AbstractElement(b.dom):b);return b},createChild:function(b,a,c){b=b||{tag:"div"};if(a){return Ext.core.DomHelper.insertBefore(a,b,c!==true)}else{return Ext.core.DomHelper.append(this.dom,b,c!==true)}},wrap:function(b,c,a){var e=Ext.core.DomHelper.insertBefore(this.dom,b||{tag:"div"},true),d=e;if(a){d=Ext.DomQuery.selectNode(a,e.dom)}d.appendChild(this.dom);return c?e.dom:e},insertHtml:function(b,c,a){var d=Ext.core.DomHelper.insertHtml(b,this.dom,c);return a?Ext.get(d):d}});