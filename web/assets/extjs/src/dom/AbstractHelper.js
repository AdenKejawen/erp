Ext.define("Ext.dom.AbstractHelper",{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:(function(){var c=/([a-z])([A-Z])/g,b={};function a(d,f,e){return f+"-"+e.toLowerCase()}return function(d){return b[d]||(b[d]=d.replace(c,a))}}()),generateMarkup:function(h,b){var g=this,f=typeof h,e,a,j,d,c;if(f=="string"||f=="number"){b.push(h)}else{if(Ext.isArray(h)){for(d=0;d<h.length;d++){if(h[d]){g.generateMarkup(h[d],b)}}}else{j=h.tag||"div";b.push("<",j);for(e in h){if(h.hasOwnProperty(e)){a=h[e];if(!g.confRe.test(e)){if(typeof a=="object"){b.push(" ",e,'="');g.generateStyles(a,b).push('"')}else{b.push(" ",g.attributeTransform[e]||e,'="',a,'"')}}}}if(g.emptyTags.test(j)){b.push("/>")}else{b.push(">");if((a=h.tpl)){a.applyOut(h.tplData,b)}if((a=h.html)){b.push(a)}if((a=h.cn||h.children)){g.generateMarkup(a,b)}c=g.closeTags;b.push(c[j]||(c[j]="</"+j+">"))}}}return b},generateStyles:function(e,c){var b=c||[],d;for(d in e){if(e.hasOwnProperty(d)){b.push(this.decamelizeName(d),":",e[d],";")}}return c||b.join("")},markup:function(a){if(typeof a=="string"){return a}var b=this.generateMarkup(a,[]);return b.join("")},applyStyles:function(c,d){if(d){var b=0,a;c=Ext.fly(c,"_applyStyles");if(typeof d=="function"){d=d.call()}if(typeof d=="string"){d=Ext.util.Format.trim(d).split(this.styleSepRe);for(a=d.length;b<a;){c.setStyle(d[b++],d[b++])}}else{if(Ext.isObject(d)){c.setStyle(d)}}}},insertHtml:function(c,f,d){var g={},a,b,h,e;c=c.toLowerCase();g.beforebegin=["BeforeBegin","previousSibling"];g.afterend=["AfterEnd","nextSibling"];b=f.ownerDocument.createRange();a="setStart"+(this.endRe.test(c)?"After":"Before");if(g[c]){b[a](f);h=b.createContextualFragment(d);f.parentNode.insertBefore(h,c=="beforebegin"?f:f.nextSibling);return f[(c=="beforebegin"?"previous":"next")+"Sibling"]}else{e=(c=="afterbegin"?"first":"last")+"Child";if(f.firstChild){b[a](f[e]);h=b.createContextualFragment(d);if(c=="afterbegin"){f.insertBefore(h,f.firstChild)}else{f.appendChild(h)}}else{f.innerHTML=d}return f[e]}throw'Illegal insertion point -> "'+c+'"'},insertBefore:function(a,c,b){return this.doInsert(a,c,b,"beforebegin")},insertAfter:function(a,c,b){return this.doInsert(a,c,b,"afterend","nextSibling")},insertFirst:function(a,c,b){return this.doInsert(a,c,b,"afterbegin","firstChild")},append:function(a,c,b){return this.doInsert(a,c,b,"beforeend","",true)},overwrite:function(a,c,b){a=Ext.getDom(a);a.innerHTML=this.markup(c);return b?Ext.get(a.firstChild):a.firstChild},doInsert:function(d,f,e,g,c,a){var b=this.insertHtml(g,Ext.getDom(d),this.markup(f));return e?Ext.get(b,true):b}});