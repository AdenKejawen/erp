Ext.dom.Element.override({animate:function(b){var d=this,c,e,a=d.dom.id||Ext.id(d.dom);if(!Ext.fx.Manager.hasFxBlock(a)){if(b.listeners){c=b.listeners;delete b.listeners}if(b.internalListeners){b.listeners=b.internalListeners;delete b.internalListeners}e=new Ext.fx.Anim(d.anim(b));if(c){e.on(c)}Ext.fx.Manager.queueFx(e)}return d},anim:function(a){if(!Ext.isObject(a)){return(a)?{}:false}var b=this,c=a.duration||Ext.fx.Anim.prototype.duration,e=a.easing||"ease",d;if(a.stopAnimation){b.stopAnimation()}Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id));Ext.fx.Manager.setFxDefaults(b.id,{delay:0});d={target:b.dom,remove:a.remove,alternate:a.alternate||false,duration:c,easing:e,callback:a.callback,listeners:a.listeners,iterations:a.iterations||1,scope:a.scope,block:a.block,concurrent:a.concurrent,delay:a.delay||0,paused:true,keyframes:a.keyframes,from:a.from||{},to:Ext.apply({},a)};Ext.apply(d.to,a.to);delete d.to.to;delete d.to.from;delete d.to.remove;delete d.to.alternate;delete d.to.keyframes;delete d.to.iterations;delete d.to.listeners;delete d.to.target;delete d.to.paused;delete d.to.callback;delete d.to.scope;delete d.to.duration;delete d.to.easing;delete d.to.concurrent;delete d.to.block;delete d.to.stopAnimation;delete d.to.delay;return d},slideIn:function(c,b,d){var f=this,i=f.dom.style,h,a,e,g;c=c||"t";b=b||{};h=function(){var m=this,l=b.listeners,n,j,o,k;if(!d){f.fixDisplay()}n=f.getBox();if((c=="t"||c=="b")&&n.height===0){n.height=f.dom.scrollHeight}else{if((c=="l"||c=="r")&&n.width===0){n.width=f.dom.scrollWidth}}j=f.getStyles("width","height","left","right","top","bottom","position","z-index",true);f.setSize(n.width,n.height);if(b.preserveScroll){e=f.cacheScrollValues()}k=f.wrap({id:Ext.id()+"-anim-wrap-for-"+f.id,style:{visibility:d?"visible":"hidden"}});g=k.dom.parentNode;k.setPositioning(f.getPositioning());if(k.isStyle("position","static")){k.position("relative")}f.clearPositioning("auto");k.clip();if(e){e()}f.setStyle({visibility:"",position:"absolute"});if(d){k.setSize(n.width,n.height)}switch(c){case"t":o={from:{width:n.width+"px",height:"0px"},to:{width:n.width+"px",height:n.height+"px"}};i.bottom="0px";break;case"l":o={from:{width:"0px",height:n.height+"px"},to:{width:n.width+"px",height:n.height+"px"}};i.right="0px";break;case"r":o={from:{x:n.x+n.width,width:"0px",height:n.height+"px"},to:{x:n.x,width:n.width+"px",height:n.height+"px"}};break;case"b":o={from:{y:n.y+n.height,width:n.width+"px",height:"0px"},to:{y:n.y,width:n.width+"px",height:n.height+"px"}};break;case"tl":o={from:{x:n.x,y:n.y,width:"0px",height:"0px"},to:{width:n.width+"px",height:n.height+"px"}};i.bottom="0px";i.right="0px";break;case"bl":o={from:{y:n.y+n.height,width:"0px",height:"0px"},to:{y:n.y,width:n.width+"px",height:n.height+"px"}};i.bottom="0px";break;case"br":o={from:{x:n.x+n.width,y:n.y+n.height,width:"0px",height:"0px"},to:{x:n.x,y:n.y,width:n.width+"px",height:n.height+"px"}};break;case"tr":o={from:{x:n.x+n.width,width:"0px",height:"0px"},to:{x:n.x,width:n.width+"px",height:n.height+"px"}};i.right="0px";break}k.show();a=Ext.apply({},b);delete a.listeners;a=new Ext.fx.Anim(Ext.applyIf(a,{target:k,duration:500,easing:"ease-out",from:d?o.to:o.from,to:d?o.from:o.to}));a.on("afteranimate",function(){f.setStyle(j);if(d){if(b.useDisplay){f.setDisplayed(false)}else{f.hide()}}if(k.dom){if(k.dom.parentNode){k.dom.parentNode.insertBefore(f.dom,k.dom)}else{g.appendChild(f.dom)}k.remove()}if(e){e()}m.end()});if(l){a.on(l)}};f.animate({duration:b.duration?Math.max(b.duration,500)*2:1000,listeners:{beforeanimate:h}});return f},slideOut:function(a,b){return this.slideIn(a,b,true)},puff:function(e){var d=this,b,c=d.getBox(),a=d.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",true);e=Ext.applyIf(e||{},{easing:"ease-out",duration:500,useDisplay:false});b=function(){d.clearOpacity();d.show();this.to={width:c.width*2,height:c.height*2,x:c.x-(c.width/2),y:c.y-(c.height/2),opacity:0,fontSize:"200%"};this.on("afteranimate",function(){if(d.dom){if(e.useDisplay){d.setDisplayed(false)}else{d.hide()}d.setStyle(a);e.callback.call(e.scope)}})};d.animate({duration:e.duration,easing:e.easing,listeners:{beforeanimate:{fn:b}}});return d},switchOff:function(c){var b=this,a;c=Ext.applyIf(c||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});a=function(){var g=this,f=b.getSize(),h=b.getXY(),e,d;b.clearOpacity();b.clip();d=b.getPositioning();e=new Ext.fx.Animator({target:b,duration:c.duration,easing:c.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:h[1]+f.height/2},100:{width:1,x:h[0]+f.width/2}}});e.on("afteranimate",function(){if(c.useDisplay){b.setDisplayed(false)}else{b.hide()}b.clearOpacity();b.setPositioning(d);b.setSize(f);g.end()})};b.animate({duration:(Math.max(c.duration,500)*2),listeners:{beforeanimate:{fn:a}}});return b},frame:function(a,d,e){var c=this,b;a=a||"#C3DAF9";d=d||1;e=e||{};b=function(){c.show();var h=this,i=c.getBox(),g=Ext.getBody().createChild({id:c.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35000,border:"0px solid "+a}}),f;f=new Ext.fx.Anim({target:g,duration:e.duration||1000,iterations:d,from:{top:i.y,left:i.x,borderWidth:0,opacity:1,height:i.height,width:i.width},to:{top:i.y-20,left:i.x-20,borderWidth:10,opacity:0,height:i.height+40,width:i.width+40}});f.on("afteranimate",function(){g.remove();h.end()})};c.animate({duration:(Math.max(e.duration,500)*2)||2000,listeners:{beforeanimate:{fn:b}}});return c},ghost:function(a,d){var c=this,b;a=a||"b";b=function(){var g=c.getWidth(),f=c.getHeight(),h=c.getXY(),e=c.getPositioning(),i={opacity:0};switch(a){case"t":i.y=h[1]-f;break;case"l":i.x=h[0]-g;break;case"r":i.x=h[0]+g;break;case"b":i.y=h[1]+f;break;case"tl":i.x=h[0]-g;i.y=h[1]-f;break;case"bl":i.x=h[0]-g;i.y=h[1]+f;break;case"br":i.x=h[0]+g;i.y=h[1]+f;break;case"tr":i.x=h[0]+g;i.y=h[1]-f;break}this.to=i;this.on("afteranimate",function(){if(c.dom){c.hide();c.clearOpacity();c.setPositioning(e)}})};c.animate(Ext.applyIf(d||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:{fn:b}}}));return c},highlight:function(d,b){var h=this,e=h.dom,j={},g,k,f,c,a,i;b=b||{};c=b.listeners||{};f=b.attr||"backgroundColor";j[f]=d||"ffff9c";if(!b.to){k={};k[f]=b.endColor||h.getColor(f,"ffffff","")}else{k=b.to}b.listeners=Ext.apply(Ext.apply({},c),{beforeanimate:function(){g=e.style[f];h.clearOpacity();h.show();a=c.beforeanimate;if(a){i=a.fn||a;return i.apply(a.scope||c.scope||window,arguments)}},afteranimate:function(){if(e){e.style[f]=g}a=c.afteranimate;if(a){i=a.fn||a;i.apply(a.scope||c.scope||window,arguments)}}});h.animate(Ext.apply({},b,{duration:1000,easing:"ease-in",from:j,to:k}));return h},pause:function(a){var b=this;Ext.fx.Manager.setFxDefaults(b.id,{delay:a});return b},fadeIn:function(b){var a=this;a.animate(Ext.apply({},b,{opacity:1,internalListeners:{beforeanimate:function(c){if(a.isStyle("display","none")){a.setDisplayed("")}else{a.show()}}}}));return this},fadeOut:function(b){var a=this;b=Ext.apply({opacity:0,internalListeners:{afteranimate:function(c){var d=a.dom;if(d&&c.to.opacity===0){if(b.useDisplay){a.setDisplayed(false)}else{a.hide()}}}}},b);a.animate(b);return a},scale:function(a,b,c){this.animate(Ext.apply({},c,{width:a,height:b}));return this},shift:function(a){this.animate(a);return this}});