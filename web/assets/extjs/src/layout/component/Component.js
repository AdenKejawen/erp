Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,beginLayoutCycle:function(c,o){var j=this,b=j.owner,e=c.ownerCtContext,f=c.heightModel,g=c.widthModel,h=b.el.dom===document.body,d=b.lastBox||j.nullBox,m=b.el.lastBox||j.nullBox,a=!h,l,n,k,i;j.callParent(arguments);if(o){if(j.usesContentWidth){++c.consumersContentWidth}if(j.usesContentHeight){++c.consumersContentHeight}if(j.usesWidth){++c.consumersWidth}if(j.usesHeight){++c.consumersHeight}if(e&&!e.hasRawContent){l=b.ownerLayout;if(l.usesWidth){++c.consumersWidth}if(l.usesHeight){++c.consumersHeight}}}if(g.configured){k=g.names.width;if(!h){a=o?b[k]!==m.width:g.constrained}c.setWidth(b[k],a)}else{if(c.isTopLevel){if(g.calculated){n=d.width;c.setWidth(n,n!=m.width)}n=d.x;c.setProp("x",n,n!=m.x)}}if(f.configured){i=f.names.height;if(!h){a=o?b[i]!==m.height:f.constrained}c.setHeight(b[i],a)}else{if(c.isTopLevel){if(f.calculated){n=d.height;c.setHeight(n,n!=m.height)}n=d.y;c.setProp("y",n,n!=m.y)}}},finishedLayout:function(b){var g=this,j=b.children,a=g.owner,e,c,h,d,f;if(j){e=j.length;for(c=0;c<e;c++){h=j[c];h.el.lastBox=h.props}}b.previousSize=g.lastComponentSize;g.lastComponentSize=a.el.lastBox=f=b.props;d=a.lastBox||(a.lastBox={});d.x=f.x;d.y=f.y;d.width=f.width;d.height=f.height;d.invalid=false;g.callParent(arguments)},notifyOwner:function(d){var c=this,a=c.lastComponentSize,e=d.previousSize,b=[a.width,a.height];if(e){b.push(e.width,e.height)}c.owner.afterComponentLayout.apply(c.owner,b)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(b){var a=this,d=a.targetInfo,c;if(!d){c=b.getEl("getTarget",a);a.targetInfo=d={padding:c.getPaddingInfo(),border:c.getBorderInfo()}}return d},measureAutoDimensions:function(l,h){var s=this,a=s.owner,p=a.layout,d=l.heightModel,g=l.widthModel,c=l.boxParent,m=l.isBoxParent,b=l.props,i,t={gotWidth:false,gotHeight:false,isContainer:(i=!l.hasRawContent)},r=h||3,o,e,j=0,f=0,k,n,q;if(g.shrinkWrap&&l.consumersContentWidth){++j;o=!(r&1);if(i){if(o){t.contentWidth=0;t.gotWidth=true;++f}else{if((t.contentWidth=l.getProp("contentWidth"))!==undefined){t.gotWidth=true;++f}}}else{n=b.contentWidth;if(typeof n=="number"){t.contentWidth=n;t.gotWidth=true;++f}else{if(o){k=true}else{if(!l.hasDomProp("containerChildrenSizeDone")){k=false}else{if(m||!c||c.widthModel.shrinkWrap){k=true}else{k=c.hasDomProp("width")}}}if(k){if(o){q=0}else{if(p&&p.measureContentWidth){q=p.measureContentWidth(l)}else{q=s.measureContentWidth(l)}}if(!isNaN(t.contentWidth=q)){l.setContentWidth(q,true);t.gotWidth=true;++f}}}}}else{if(g.natural&&l.consumersWidth){++j;n=b.width;if(typeof n=="number"){t.width=n;t.gotWidth=true;++f}else{if(m||!c){k=true}else{k=c.hasDomProp("width")}if(k){if(!isNaN(t.width=s.measureOwnerWidth(l))){l.setWidth(t.width,false);t.gotWidth=true;++f}}}}}if(d.shrinkWrap&&l.consumersContentHeight){++j;e=!(r&2);if(i){if(e){t.contentHeight=0;t.gotHeight=true;++f}else{if((t.contentHeight=l.getProp("contentHeight"))!==undefined){t.gotHeight=true;++f}}}else{n=b.contentHeight;if(typeof n=="number"){t.contentHeight=n;t.gotHeight=true;++f}else{if(e){k=true}else{if(!l.hasDomProp("containerChildrenSizeDone")){k=false}else{if(a.noWrap){k=true}else{if(!g.shrinkWrap){k=(l.bodyContext||l).hasDomProp("width")}else{if(m||!c||c.widthModel.shrinkWrap){k=true}else{k=c.hasDomProp("width")}}}}}if(k){if(e){q=0}else{if(p&&p.measureContentHeight){q=p.measureContentHeight(l)}else{q=s.measureContentHeight(l)}}if(!isNaN(t.contentHeight=q)){l.setContentHeight(q,true);t.gotHeight=true;++f}}}}}else{if(d.natural&&l.consumersHeight){++j;n=b.height;if(typeof n=="number"){t.height=n;t.gotHeight=true;++f}else{if(m||!c){k=true}else{k=c.hasDomProp("width")}if(k){if(!isNaN(t.height=s.measureOwnerHeight(l))){l.setHeight(t.height,false);t.gotHeight=true;++f}}}}}if(c){l.onBoxMeasured()}t.gotAll=f==j;return t},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}});