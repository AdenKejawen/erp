Ext.define("Ext.layout.component.field.Trigger",{alias:"layout.triggerfield",extend:"Ext.layout.component.field.Field",type:"triggerfield",beginLayout:function(d){var c=this,a=c.owner,b;d.triggerWrap=d.getEl("triggerWrap");c.callParent(arguments);b=a.getTriggerStateFlags();if(b!=a.lastTriggerStateFlags){a.lastTriggerStateFlags=b;c.updateEditState()}},beginLayoutCycle:function(a){this.callParent(arguments);if(a.widthModel.shrinkWrap&&!this.owner.inputWidth){a.inputContext.el.setStyle("width","")}},beginLayoutFixed:function(f,c,g){var d=this,a=f.target,e=d.ieInputWidthAdjustment||0,h="100%",b=a.triggerWrap;d.callParent(arguments);a.inputCell.setStyle("width","100%");if(e){d.adjustIEInputPadding(f);if(g==="px"){if(a.inputWidth){h=a.inputWidth-a.getTriggerWidth()}else{h=c-e-a.getTriggerWidth()}h+="px"}}a.inputEl.setStyle("width",h);h=a.inputWidth;if(h){b.setStyle("width",h+(e)+"px")}else{b.setStyle("width",c+g)}b.setStyle("table-layout","fixed")},adjustIEInputPadding:function(a){this.owner.inputCell.setStyle("padding-right",this.ieInputWidthAdjustment+"px")},beginLayoutShrinkWrap:function(c){var a=c.target,e="",d=a.inputWidth,b=a.triggerWrap;this.callParent(arguments);if(d){b.setStyle("width",d+"px");d=(d-a.getTriggerWidth())+"px";a.inputEl.setStyle("width",d);a.inputCell.setStyle("width",d)}else{a.inputCell.setStyle("width",e);a.inputEl.setStyle("width",e);b.setStyle("width",e);b.setStyle("table-layout","auto")}},getTextWidth:function(){var b=this,a=b.owner,d=a.inputEl,c;c=(d.dom.value||(a.hasFocus?"":a.emptyText)||"")+a.growAppend;return d.getTextWidth(c)},publishOwnerWidth:function(c,b){var a=this.owner;this.callParent(arguments);if(!a.grow&&!a.inputWidth){b-=a.getTriggerWidth();if(a.labelAlign!="top"){b-=a.getLabelWidth()}c.inputContext.setWidth(b)}},measureContentWidth:function(g){var f=this,b=f.owner,e=f.callParent(arguments),h=g.inputContext,d,a,c;if(b.grow&&!g.state.growHandled){d=f.getTextWidth()+g.inputContext.getFrameInfo().width;a=b.growMax;c=Math.min(a,e);a=Math.max(b.growMin,a,c);d=Ext.Number.constrain(d,b.growMin,a);h.setWidth(d);g.state.growHandled=true;h.domBlock(f,"width");e=NaN}else{if(!b.inputWidth){e-=b.getTriggerWidth()}}return e},updateEditState:function(){var c=this,a=c.owner,e=a.inputEl,d=Ext.baseCSSPrefix+"trigger-noedit",b,f;if(c.owner.readOnly){e.addCls(d);f=true;b=false}else{if(c.owner.editable){e.removeCls(d);f=false}else{e.addCls(d);f=true}b=!c.owner.hideTrigger}a.triggerCell.setDisplayed(b);e.dom.readOnly=f}});