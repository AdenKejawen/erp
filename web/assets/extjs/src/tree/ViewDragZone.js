Ext.define("Ext.tree.ViewDragZone",{extend:"Ext.view.DragZone",isPreventDrag:function(b,a){return(a.get("allowDrag")===false)||!!b.getTarget(this.view.expanderSelector)},getDragText:function(){var a=this.dragData.records,b=a.length,d=a[0].get(this.displayField),c="s";if(b===1&&d){return d}else{if(!d){c=""}}return Ext.String.format(this.dragText,b,c)},afterRepair:function(){var g=this,a=g.view,h=a.selectedItemCls,b=g.dragData.records,f,e=b.length,c=Ext.fly,d;if(Ext.enableFx&&g.repairHighlight){for(f=0;f<e;f++){d=a.getNode(b[f]);c(d.firstChild).highlight(g.repairHighlightColor,{listeners:{beforeanimate:function(){if(a.isSelected(d)){c(d).removeCls(h)}},afteranimate:function(){if(a.isSelected(d)){c(d).addCls(h)}}}})}}g.dragging=false}});