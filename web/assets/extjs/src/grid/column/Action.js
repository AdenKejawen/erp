Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:false,constructor:function(d){var f=this,b=Ext.apply({},d),c=b.items||[f],g,e,a;f.origRenderer=b.renderer||f.renderer;f.origScope=b.scope||f.scope;delete f.renderer;delete f.scope;delete b.renderer;delete b.scope;delete b.items;f.callParent([b]);f.items=c;for(e=0,a=c.length;e<a;++e){if(c[e].getClass){g=true;break}}if(f.origRenderer||g){f.hasCustomRenderer=true}},defaultRenderer:function(m,p,e,a,d,l,k){var j=this,f=Ext.baseCSSPrefix,o=j.origScope||j,h=j.items,g=h.length,c=0,n,b,q;m=Ext.isFunction(j.origRenderer)?j.origRenderer.apply(o,arguments)||"":"";p.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";for(;c<g;c++){n=h[c];b=n.disabled||(n.isDisabled?n.isDisabled.call(n.scope||o,k,a,d,n,e):false);q=b?null:(n.tooltip||(n.getTip?n.getTip.apply(n.scope||o,arguments):null));if(!n.hasActionConfiguration){n.stopSelection=j.stopSelection;n.disable=Ext.Function.bind(j.disableAction,j,[c],0);n.enable=Ext.Function.bind(j.enableAction,j,[c],0);n.hasActionConfiguration=true}m+='<img alt="'+(n.altText||j.altText)+'" src="'+(n.icon||Ext.BLANK_IMAGE_URL)+'" class="'+f+"action-col-icon "+f+"action-col-"+String(c)+" "+(b?f+"item-disabled":" ")+" "+(Ext.isFunction(n.getClass)?n.getClass.apply(n.scope||o,arguments):(n.iconCls||j.iconCls||""))+'"'+(q?' data-qtip="'+q+'"':"")+" />"}return m},enableAction:function(b,a){var c=this;if(!b){b=0}else{if(!Ext.isNumber(b)){b=Ext.Array.indexOf(c.items,b)}}c.items[b].disabled=false;c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+b).removeCls(c.disabledCls);if(!a){c.fireEvent("enable",c)}},disableAction:function(b,a){var c=this;if(!b){b=0}else{if(!Ext.isNumber(b)){b=Ext.Array.indexOf(c.items,b)}}c.items[b].disabled=true;c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+b).addCls(c.disabledCls);if(!a){c.fireEvent("disable",c)}},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(i,l,n,b,j,g,d,p){var h=this,f=g.getTarget(),c,o,k,m=i=="keydown"&&g.getKey(),a;if(m&&!Ext.fly(f).findParent(l.getCellSelector())){f=Ext.fly(n).down("."+Ext.baseCSSPrefix+"action-col-icon",true)}if(f&&(c=f.className.match(h.actionIdRe))){o=h.items[parseInt(c[1],10)];a=o.disabled||(o.isDisabled?o.isDisabled.call(o.scope||h.origScope||h,l,b,j,o,d):false);if(o&&!a){if(i=="click"||(m==g.ENTER||m==g.SPACE)){k=o.handler||h.handler;if(k){k.call(o.scope||h.origScope||h,l,b,j,o,g,d,p)}}else{if(i=="mousedown"&&o.stopSelection!==false){return false}}}}return h.callParent(arguments)},cascade:function(b,a){b.call(a||this,this)},getRefItems:function(){return[]}});