Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:false,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",constructor:function(d){var f=this,b=Ext.apply({},d),c=b.items||f.items||[f],g,e,a;f.origRenderer=b.renderer||f.renderer;f.origScope=b.scope||f.scope;f.renderer=f.scope=b.renderer=b.scope=null;b.items=null;f.callParent([b]);f.items=c;for(e=0,a=c.length;e<a;++e){if(c[e].getClass){g=true;break}}if(f.origRenderer||g){f.hasCustomRenderer=true}},defaultRenderer:function(n,q,e,a,d,m,l){var k=this,f=Ext.baseCSSPrefix,p=k.origScope||k,j=k.items,g=j.length,c=0,o,h,b,r;h=Ext.isFunction(k.origRenderer)?k.origRenderer.apply(p,arguments)||"":"";q.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";for(;c<g;c++){o=j[c];b=o.disabled||(o.isDisabled?o.isDisabled.call(o.scope||p,l,a,d,o,e):false);r=b?null:(o.tooltip||(o.getTip?o.getTip.apply(o.scope||p,arguments):null));if(!o.hasActionConfiguration){o.stopSelection=k.stopSelection;o.disable=Ext.Function.bind(k.disableAction,k,[c],0);o.enable=Ext.Function.bind(k.enableAction,k,[c],0);o.hasActionConfiguration=true}h+='<img role="button" alt="'+(o.altText||k.altText)+'" src="'+(o.icon||Ext.BLANK_IMAGE_URL)+'" class="'+f+"action-col-icon "+f+"action-col-"+String(c)+" "+(b?f+"item-disabled":" ")+" "+(Ext.isFunction(o.getClass)?o.getClass.apply(o.scope||p,arguments):(o.iconCls||k.iconCls||""))+'"'+(r?' data-qtip="'+r+'"':"")+" />"}return h},enableAction:function(b,a){var c=this;if(!b){b=0}else{if(!Ext.isNumber(b)){b=Ext.Array.indexOf(c.items,b)}}c.items[b].disabled=false;c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+b).removeCls(c.disabledCls);if(!a){c.fireEvent("enable",c)}},disableAction:function(b,a){var c=this;if(!b){b=0}else{if(!Ext.isNumber(b)){b=Ext.Array.indexOf(c.items,b)}}c.items[b].disabled=true;c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+b).addCls(c.disabledCls);if(!a){c.fireEvent("disable",c)}},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(i,l,n,b,j,g,d,p){var h=this,f=g.getTarget(),c,o,k,m=i=="keydown"&&g.getKey(),a;if(m&&!Ext.fly(f).findParent(l.getCellSelector())){f=Ext.fly(n).down("."+Ext.baseCSSPrefix+"action-col-icon",true)}if(f&&(c=f.className.match(h.actionIdRe))){o=h.items[parseInt(c[1],10)];a=o.disabled||(o.isDisabled?o.isDisabled.call(o.scope||h.origScope||h,l,b,j,o,d):false);if(o&&!a){if(i=="click"||(m==g.ENTER||m==g.SPACE)){k=o.handler||h.handler;if(k){k.call(o.scope||h.origScope||h,l,b,j,o,g,d,p)}}else{if(i=="mousedown"&&o.stopSelection!==false){return false}}}}return h.callParent(arguments)},cascade:function(b,a){b.call(a||this,this)},getRefItems:function(){return[]}});