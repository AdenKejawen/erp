Ext.define("Ext.grid.CellEditor",{extend:"Ext.Editor",constructor:function(a){a=Ext.apply({},a);if(a.field){a.field.monitorTab=false}this.callParent([a])},onShow:function(){var b=this,d=b.boundEl.first(),a,c;if(d){a=d.dom.lastChild;if(a&&a.nodeType===3){c=b.cellTextNode=d.dom.lastChild;b.cellTextValue=c.nodeValue;c.nodeValue=b.emptyText}}b.callParent(arguments)},onHide:function(){var b=this,c=b.boundEl.first(),a=b.cellTextNode;if(c&&a){if(a.nodeValue==b.emptyText){a.nodeValue=b.cellTextValue}delete b.cellTextNode;delete b.cellTextValue}b.callParent(arguments)},afterRender:function(){var a=this,b=a.field;a.callParent(arguments);if(b.isXType("checkboxfield")){b.mon(b.inputEl,{mousedown:a.onCheckBoxMouseDown,click:a.onCheckBoxClick,scope:a})}},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(false,10)},realign:function(e){var j=this,g=j.boundEl,i=g.first(),c=i.dom.childNodes,f=c.length,d=Ext.Array.clone(j.offsets),k=j.field.inputEl,b,h,l,a;if(j.isForTree&&(f>1||(f===1&&c[0].nodeType!==3))){b=i.last();h=b.getOffsetsTo(i)[0]+b.getWidth();l=i.getWidth();a=l-h;if(!j.editingPlugin.grid.columnLines){a--}d[0]+=h;j.addCls(Ext.baseCSSPrefix+"grid-editor-on-text-node")}else{a=g.getWidth()-1}if(e===true){j.field.setWidth(a)}j.alignTo(g,j.alignment,d)},onEditorTab:function(b){var a=this.field;if(a.onEditorTab){a.onEditorTab(b)}},emptyText:"\u00a0",alignment:"tl-tl",hideEl:false,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor",shim:false,shadow:false});